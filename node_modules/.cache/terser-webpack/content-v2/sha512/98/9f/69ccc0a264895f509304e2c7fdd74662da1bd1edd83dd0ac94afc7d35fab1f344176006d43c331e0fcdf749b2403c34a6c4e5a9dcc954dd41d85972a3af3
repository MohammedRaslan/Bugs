{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{CwAd:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return ToastServiceService}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"mrSG\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"fXoL\"),_ionic_angular__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"TEn/\");let ToastServiceService=(()=>{class ToastServiceService{constructor(toastController){this.toastController=toastController}present(message,position=\"bottom\",durationMs=2e3){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:message,position:position,duration:durationMs,cssClass:\"toast-message\"})).present()}))}}return ToastServiceService.ɵfac=function(t){return new(t||ToastServiceService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Qb(_ionic_angular__WEBPACK_IMPORTED_MODULE_2__.M))},ToastServiceService.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Db({token:ToastServiceService,factory:ToastServiceService.ɵfac,providedIn:\"root\"}),ToastServiceService})()},UUSl:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"SignupPageModule\",(function(){return signup_module_SignupPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),core=__webpack_require__(\"fXoL\"),toast_service_service=__webpack_require__(\"CwAd\"),auth_service_service=__webpack_require__(\"UPSQ\"),loading_service_service=__webpack_require__(\"oWMX\");function SignupPage_ng_container_10_div_1_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"div\",19),core.hc(1),core.Lb()),2&rf){const validation_r3=core.Wb().$implicit;core.xb(1),core.jc(\" \",validation_r3.message,\" \")}}function SignupPage_ng_container_10_Template(rf,ctx){if(1&rf&&(core.Kb(0),core.gc(1,SignupPage_ng_container_10_div_1_Template,2,1,\"div\",18),core.Jb()),2&rf){const validation_r3=ctx.$implicit,ctx_r0=core.Wb();core.xb(1),core.Zb(\"ngIf\",ctx_r0.Form.get(\"email\").hasError(validation_r3.type)&&ctx_r0.Form.get(\"email\").dirty&&ctx_r0.Form.get(\"email\").touched)}}function SignupPage_ng_container_15_div_1_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"div\",19),core.hc(1),core.Lb()),2&rf){const validation_r6=core.Wb().$implicit;core.xb(1),core.jc(\" \",validation_r6.message,\" \")}}function SignupPage_ng_container_15_Template(rf,ctx){if(1&rf&&(core.Kb(0),core.gc(1,SignupPage_ng_container_15_div_1_Template,2,1,\"div\",18),core.Jb()),2&rf){const validation_r6=ctx.$implicit,ctx_r1=core.Wb();core.xb(1),core.Zb(\"ngIf\",ctx_r1.Form.get(\"matching_passwords\").get(\"password\").hasError(validation_r6.type)&&ctx_r1.Form.get(\"matching_passwords\").get(\"password\").dirty&&ctx_r1.Form.get(\"matching_passwords\").get(\"password\").touched)}}function SignupPage_ng_container_19_div_1_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"div\",19),core.hc(1),core.Lb()),2&rf){const validation_r9=core.Wb().$implicit;core.xb(1),core.jc(\" \",validation_r9.message,\" \")}}function SignupPage_ng_container_19_Template(rf,ctx){if(1&rf&&(core.Kb(0),core.gc(1,SignupPage_ng_container_19_div_1_Template,2,1,\"div\",18),core.Jb()),2&rf){const validation_r9=ctx.$implicit,ctx_r2=core.Wb();core.xb(1),core.Zb(\"ngIf\",ctx_r2.Form.get(\"matching_passwords\").get(\"confirm_password\").hasError(validation_r9.type)&&ctx_r2.Form.get(\"matching_passwords\").get(\"confirm_password\").dirty&&ctx_r2.Form.get(\"matching_passwords\").get(\"confirm_password\").touched)}}const routes=[{path:\"\",component:(()=>{class SignupPage{constructor(navCtrl,formBuilder,toast,api,loading){this.navCtrl=navCtrl,this.formBuilder=formBuilder,this.toast=toast,this.api=api,this.loading=loading,this.emailPattern=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/,this.mobilePattern=/^(\\+2|002|2)?(011|010|012|015)([0-9]{8})$/,this.validation_messages={email:[{type:\"required\",message:\"Email is required.\"},{type:\"pattern\",message:\"Enter a valid email.\"}],password:[{type:\"required\",message:\"Password is required.\"},{type:\"minlength\",message:\"Password must be at least 8 characters long.\"},{type:\"pattern\",message:\"Your password must contain at least one uppercase, one lowercase, and one number.\"}],confirm_password:[{type:\"required\",message:\"Confirm password is required\"}],matching_passwords:[{type:\"areEqual\",message:\"Password fields don't match\"}]},this.Form=formBuilder.group({email:[\"\",fesm2015_forms.n.compose([fesm2015_forms.n.required,fesm2015_forms.n.pattern(this.emailPattern)])],matching_passwords:new fesm2015_forms.d({password:new fesm2015_forms.b(\"\",fesm2015_forms.n.compose([fesm2015_forms.n.minLength(8),fesm2015_forms.n.required])),confirm_password:new fesm2015_forms.b(\"\",fesm2015_forms.n.required)},formGroup=>SignupPage.areEqual(formGroup))})}static areEqual(formGroup){let val,valid=!0;for(let key in formGroup.controls)if(formGroup.controls.hasOwnProperty(key)){let control=formGroup.controls[key];if(void 0===val)val=control.value;else if(val!==control.value){valid=!1;break}}return valid?null:{areEqual:!0}}ngOnInit(){}onSubmitSignup(){if(this.Form.valid){const formData=this.Form.value;console.log(\"loading signup\"),this.loading.present(),this.api.register(formData.email,formData.matching_passwords.password,formData.matching_passwords.confirm_password).then(res=>{this.loading.dismiss(),console.log(res.user);const user=JSON.stringify(res.user);localStorage.setItem(\"userData\",user),this.navCtrl.navigateRoot([\"tabs/home\"])},error=>{this.loading.dismiss(),this.toast.present(error)})}else this.toast.present(\"Please check your information\",\"bottom\")}back(){this.navCtrl.back()}}return SignupPage.ɵfac=function(t){return new(t||SignupPage)(core.Hb(ionic_angular.H),core.Hb(fesm2015_forms.a),core.Hb(toast_service_service.a),core.Hb(auth_service_service.a),core.Hb(loading_service_service.a))},SignupPage.ɵcmp=core.Bb({type:SignupPage,selectors:[[\"app-signup\"]],decls:28,vars:4,consts:[[1,\"ion-text-center\"],[1,\"back-container\"],[\"src\",\"assets/imgs/signup/back.png\",\"alt\",\"\",3,\"click\"],[1,\"logo_container\"],[\"src\",\"assets/imgs/login/logo.png\",\"alt\",\"\",1,\"logo\"],[\"novalidate\",\"\",3,\"formGroup\",\"submit\"],[1,\"container\"],[1,\"ion-text-center\",\"inputs_container\"],[\"placeholder\",\"Email\",\"formControlName\",\"email\"],[1,\"validation-errors\"],[4,\"ngFor\",\"ngForOf\"],[\"formGroupName\",\"matching_passwords\"],[\"placeholder\",\"Password\",\"type\",\"password\",\"formControlName\",\"password\"],[\"placeholder\",\"Confirm password\",\"type\",\"password\",\"formControlName\",\"confirm_password\"],[1,\"button_container\"],[\"expand\",\"full\",\"shape\",\"round\",\"type\",\"submit\",1,\"singup\"],[1,\"footer\"],[1,\"bold\"],[\"class\",\"error-message\",4,\"ngIf\"],[1,\"error-message\"]],template:function(rf,ctx){1&rf&&(core.Mb(0,\"ion-content\",0),core.Mb(1,\"div\",1),core.Mb(2,\"img\",2),core.Ub(\"click\",(function(){return ctx.back()})),core.Lb(),core.Lb(),core.Mb(3,\"div\",3),core.Ib(4,\"img\",4),core.Lb(),core.Mb(5,\"form\",5),core.Ub(\"submit\",(function(){return ctx.onSubmitSignup()})),core.Mb(6,\"div\",6),core.Mb(7,\"div\",7),core.Ib(8,\"ion-input\",8),core.Lb(),core.Mb(9,\"div\",9),core.gc(10,SignupPage_ng_container_10_Template,2,1,\"ng-container\",10),core.Lb(),core.Kb(11,11),core.Mb(12,\"div\",7),core.Ib(13,\"ion-input\",12),core.Lb(),core.Mb(14,\"div\",9),core.gc(15,SignupPage_ng_container_15_Template,2,1,\"ng-container\",10),core.Lb(),core.Mb(16,\"div\",7),core.Ib(17,\"ion-input\",13),core.Lb(),core.Mb(18,\"div\",9),core.gc(19,SignupPage_ng_container_19_Template,2,1,\"ng-container\",10),core.Lb(),core.Jb(),core.Lb(),core.Mb(20,\"div\",14),core.Mb(21,\"ion-button\",15),core.hc(22,\"SIGN Up\"),core.Lb(),core.Lb(),core.Lb(),core.Mb(23,\"div\",16),core.Mb(24,\"span\"),core.hc(25,\"By clicking singup, you agree to our \"),core.Lb(),core.Mb(26,\"span\",17),core.hc(27,\" Terms and Conditions\"),core.Lb(),core.Lb(),core.Lb()),2&rf&&(core.xb(5),core.Zb(\"formGroup\",ctx.Form),core.xb(5),core.Zb(\"ngForOf\",ctx.validation_messages.email),core.xb(5),core.Zb(\"ngForOf\",ctx.validation_messages.password),core.xb(4),core.Zb(\"ngForOf\",ctx.validation_messages.confirm_password))},directives:[ionic_angular.h,fesm2015_forms.o,fesm2015_forms.k,fesm2015_forms.e,ionic_angular.m,ionic_angular.L,fesm2015_forms.j,fesm2015_forms.c,common.h,fesm2015_forms.f,ionic_angular.d,common.i],styles:[\"ion-content[_ngcontent-%COMP%]{--background:var(--page-background)}.logo_container[_ngcontent-%COMP%]{margin-top:-5vh}.logo[_ngcontent-%COMP%]{width:30%}.singup[_ngcontent-%COMP%]{--background:linear-gradient(235deg,#08d3ff,#178dd5 0,#ff62a5);margin-top:5vh;height:7vh}.inputs_container[_ngcontent-%COMP%]{padding-left:10vw;padding-right:10vw;margin-top:3vh}ion-input[_ngcontent-%COMP%]{background:#fff;height:7vh;border-radius:25px;color:#9b9b9b;--placeholder-color:#9b9b9b;--placeholder-opacity:1}.button_container[_ngcontent-%COMP%]{padding-left:10vw;padding-right:10vw;margin-top:15vh}.container[_ngcontent-%COMP%]{margin-top:10vh}.footer[_ngcontent-%COMP%]{margin-top:5vh;padding-left:20vw;padding-right:20vw;color:#9b9b9b}.footer[_ngcontent-%COMP%]   .bold[_ngcontent-%COMP%]{font-weight:700}.back-container[_ngcontent-%COMP%]{margin-top:0}.back-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;display:flex;margin:6vw}.validation-errors[_ngcontent-%COMP%]{padding-left:20px}.error-message[_ngcontent-%COMP%]{color:red}\"]}),SignupPage})()}];let signup_routing_module_SignupPageRoutingModule=(()=>{class SignupPageRoutingModule{}return SignupPageRoutingModule.ɵmod=core.Fb({type:SignupPageRoutingModule}),SignupPageRoutingModule.ɵinj=core.Eb({factory:function(t){return new(t||SignupPageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),SignupPageRoutingModule})(),signup_module_SignupPageModule=(()=>{class SignupPageModule{}return SignupPageModule.ɵmod=core.Fb({type:SignupPageModule}),SignupPageModule.ɵinj=core.Eb({factory:function(t){return new(t||SignupPageModule)},imports:[[common.b,fesm2015_forms.g,ionic_angular.D,fesm2015_forms.m,signup_routing_module_SignupPageRoutingModule]]}),SignupPageModule})()},oWMX:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"a\",(function(){return LoadingServiceService}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"mrSG\"),_angular_core__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"fXoL\"),_ionic_angular__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"TEn/\");let LoadingServiceService=(()=>{class LoadingServiceService{constructor(loadingController){this.loadingController=loadingController,this.isLoading=!1,this.isNonRestrictedLoading=!1}present(){this.isLoading=!0,this.loadingController.create({duration:3e3,spinner:\"crescent\",cssClass:\"loading-content\",showBackdrop:!1}).then(createdLoader=>{createdLoader.present().then(()=>{console.log(\"presented\"),this.isLoading||this.loadingController.dismiss()})})}presentNonRestrictedLoading(){this.isNonRestrictedLoading=!0,this.loadingController.create({spinner:\"crescent\",cssClass:\"loading-content\",showBackdrop:!1}).then(createdLoader=>{createdLoader.present().then(()=>{console.log(\"presented\"),this.isNonRestrictedLoading||this.loadingController.dismiss()})})}dismissNonRestrictedLoading(){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){(this.isNonRestrictedLoading=!0)&&(this.loadingController.dismiss(),console.log(\"dismissed\")),this.isNonRestrictedLoading=!1}))}dismiss(){return Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(this,void 0,void 0,(function*(){(this.isLoading=!0)&&(this.loadingController.dismiss(),console.log(\"dismissed\")),this.isLoading=!1}))}}return LoadingServiceService.ɵfac=function(t){return new(t||LoadingServiceService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__.Qb(_ionic_angular__WEBPACK_IMPORTED_MODULE_2__.F))},LoadingServiceService.ɵprov=_angular_core__WEBPACK_IMPORTED_MODULE_1__.Db({token:LoadingServiceService,factory:LoadingServiceService.ɵfac,providedIn:\"root\"}),LoadingServiceService})()}}]);","extractedComments":[]}