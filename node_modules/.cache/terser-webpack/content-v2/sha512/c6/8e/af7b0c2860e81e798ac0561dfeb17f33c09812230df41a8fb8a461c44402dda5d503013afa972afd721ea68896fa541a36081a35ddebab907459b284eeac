{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{MuM0:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"LearnItemDetailsPageModule\",(function(){return learn_item_details_module_LearnItemDetailsPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),tslib_es6=__webpack_require__(\"mrSG\"),core=__webpack_require__(\"fXoL\"),api_service=__webpack_require__(\"H+bZ\"),loading_service_service=__webpack_require__(\"oWMX\"),ngx=__webpack_require__(\"/XPu\"),toast_service_service=__webpack_require__(\"CwAd\");function LearnItemDetailsPage_ion_card_31_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"ion-card\"),core.Mb(1,\"ion-row\"),core.Ib(2,\"ion-col\",14),core.Mb(3,\"ion-col\",15),core.Mb(4,\"span\",16),core.hc(5),core.Lb(),core.Lb(),core.Mb(6,\"ion-col\",15),core.Mb(7,\"span\",17),core.hc(8),core.Lb(),core.Lb(),core.Lb(),core.Lb()),2&rf){const comment_r1=ctx.$implicit;core.xb(5),core.jc(\" \",null==comment_r1?null:comment_r1.comment,\" \"),core.xb(3),core.jc(\" : \",null==comment_r1.user?null:comment_r1.user.name,\" \")}}const routes=[{path:\"\",component:(()=>{class LearnItemDetailsPage{constructor(navCtrl,alertController,router,route,api,loading,socialSharing,toast){this.navCtrl=navCtrl,this.alertController=alertController,this.router=router,this.route=route,this.api=api,this.loading=loading,this.socialSharing=socialSharing,this.toast=toast,this.comment=\"\",this.comments=[],this.route.queryParams.subscribe(params=>{this.router.getCurrentNavigation().extras.state&&(this.item=this.router.getCurrentNavigation().extras.state.item,this.comments=this.item.comments,console.log(this.item))})}ngOnInit(){this.getBolgData()}back(){this.navCtrl.back()}doComment(){\"\"==this.comment?this.toast.present(\"Please enter comment\"):(this.loading.present(),console.log(this.item.id),console.log(this.comment),this.api.comment(this.item.id,this.comment).then(res=>{console.log(res),this.loading.dismiss(),this.getBolgData(),this.toast.present(\"Comment send successfully\")},error=>{this.loading.dismiss(),console.log(error),this.toast.present(\"There is an error please try again\")}))}like(){this.loading.present(),this.api.like(this.item.id).then(res=>{console.log(res),this.loading.dismiss(),this.toast.present(res[0]?\"Liked\":\"DisLike\")},error=>{this.loading.dismiss(),console.log(error),this.toast.present(\"There is an error please try again\")})}share(){this.socialSharing.share(\"http://bugsnroses.com/blog/\"+this.item.id)}deleteComment(item,index){return Object(tslib_es6.a)(this,void 0,void 0,(function*(){const alert=yield this.alertController.create({header:\"Delete item\",message:\"Do you want to delete this comment\",buttons:[{text:\"Cancel\",role:\"cancel\",cssClass:\"secondary\",handler:blah=>{console.log(\"Confirm Cancel: blah\")}},{text:\"Yes\",handler:()=>{console.log(\"in yes\"),this.removeComment(item,index)}}]});yield alert.present()}))}removeComment(item,index){console.log(item),this.api.deleteComment(item.id).then(res=>{console.log(res),this.loading.dismissNonRestrictedLoading(),this.comments.splice(index,1),this.getBolgData()},error=>{this.loading.dismissNonRestrictedLoading(),\"\"==error.error||error.comment_id?this.toast.present(\"There is an error please try again\"):error.message?(this.toast.present(\"Comment deleted\"),this.comments.splice(index,1),this.getBolgData()):this.toast.present(error.error)})}getBolgData(){this.api.getBolg(this.item.id).then(res=>{console.log(res),res.img=\"https://bugsnroses.com/\"+res.img.replace(\"public\",\"storage\"),this.item=res,this.comments=this.item.comments},error=>{this.toast.present(\"\"==error.error?\"There is an error please try again\":error.error)})}}return LearnItemDetailsPage.ɵfac=function(t){return new(t||LearnItemDetailsPage)(core.Hb(ionic_angular.H),core.Hb(ionic_angular.a),core.Hb(router.g),core.Hb(router.a),core.Hb(api_service.a),core.Hb(loading_service_service.a),core.Hb(ngx.a),core.Hb(toast_service_service.a))},LearnItemDetailsPage.ɵcmp=core.Bb({type:LearnItemDetailsPage,selectors:[[\"app-learn-item-details\"]],decls:32,vars:6,consts:[[1,\"title-row\"],[\"size\",\"4\",1,\"ion-text-start\",\"back-container\"],[\"src\",\"assets/imgs/signup/back.png\",\"alt\",\"\",3,\"click\"],[\"size\",\"8\",1,\"ion-text-start\",\"title\"],[\"alt\",\"\",3,\"src\"],[3,\"innerHTML\"],[\"size\",\"4\"],[\"expand\",\"full\",\"shape\",\"round\",1,\"like\",3,\"click\"],[\"expand\",\"full\",\"shape\",\"round\",1,\"share\",3,\"click\"],[1,\"comment_text\"],[\"rows\",\"6\",\"cols\",\"20\",\"placeholder\",\"Enter any comments here...\",3,\"ngModel\",\"ngModelChange\"],[1,\"ion-text-end\"],[\"size\",\"larg\",\"shape\",\"round\",1,\"post\",3,\"click\"],[4,\"ngFor\",\"ngForOf\"],[\"size\",\"2\",1,\"ion-text-end\"],[\"size\",\"5\",1,\"ion-text-end\"],[1,\"comment\"],[1,\"username\"]],template:function(rf,ctx){1&rf&&(core.Mb(0,\"ion-content\"),core.Mb(1,\"ion-grid\"),core.Mb(2,\"ion-row\",0),core.Mb(3,\"ion-col\",1),core.Mb(4,\"img\",2),core.Ub(\"click\",(function(){return ctx.back()})),core.Lb(),core.Lb(),core.Mb(5,\"ion-col\",3),core.Mb(6,\"span\"),core.hc(7,\" Learn \"),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Ib(8,\"img\",4),core.Mb(9,\"ion-row\"),core.Mb(10,\"h2\"),core.hc(11),core.Lb(),core.Lb(),core.Ib(12,\"p\",5),core.Ib(13,\"p\",5),core.Mb(14,\"ion-row\"),core.Mb(15,\"ion-col\",6),core.Mb(16,\"ion-button\",7),core.Ub(\"click\",(function(){return ctx.like()})),core.hc(17,\" Like \"),core.Lb(),core.Lb(),core.Ib(18,\"ion-col\",6),core.Mb(19,\"ion-col\",6),core.Mb(20,\"ion-button\",8),core.Ub(\"click\",(function(){return ctx.share()})),core.hc(21,\" Share \"),core.Lb(),core.Lb(),core.Lb(),core.Mb(22,\"div\",9),core.Mb(23,\"ion-textarea\",10),core.Ub(\"ngModelChange\",(function($event){return ctx.comment=$event})),core.Lb(),core.Lb(),core.Mb(24,\"ion-row\",11),core.Mb(25,\"ion-col\",11),core.Mb(26,\"ion-button\",12),core.Ub(\"click\",(function(){return ctx.doComment()})),core.hc(27,\" post \"),core.Lb(),core.Lb(),core.Lb(),core.Mb(28,\"ion-row\"),core.Mb(29,\"h2\"),core.hc(30,\"Comments\"),core.Lb(),core.Lb(),core.gc(31,LearnItemDetailsPage_ion_card_31_Template,9,2,\"ion-card\",13),core.Lb()),2&rf&&(core.xb(8),core.Zb(\"src\",null==ctx.item?null:ctx.item.img,core.dc),core.xb(3),core.ic(null==ctx.item?null:ctx.item.name),core.xb(1),core.Zb(\"innerHTML\",null==ctx.item?null:ctx.item.text,core.cc),core.xb(1),core.Zb(\"innerHTML\",null==ctx.item?null:ctx.item.text2,core.cc),core.xb(10),core.Zb(\"ngModel\",ctx.comment),core.xb(8),core.Zb(\"ngForOf\",ctx.comments))},directives:[ionic_angular.h,ionic_angular.i,ionic_angular.s,ionic_angular.g,ionic_angular.d,ionic_angular.C,ionic_angular.L,fesm2015_forms.j,fesm2015_forms.l,common.h,ionic_angular.e],styles:[\"ion-content[_ngcontent-%COMP%]{--background:#f5f6f8}.back-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;margin-left:1vw}.title-row[_ngcontent-%COMP%]{margin-top:2vh}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.6em;margin-left:5vw}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#178dd5;font-weight:700}h2[_ngcontent-%COMP%]{margin-left:2vw}p[_ngcontent-%COMP%]{color:#acb1c0;padding-left:2vw;padding-right:5vw}.like[_ngcontent-%COMP%]{--background:#ff6979}.comment[_ngcontent-%COMP%], .like[_ngcontent-%COMP%]{text-transform:capitalize}.comment[_ngcontent-%COMP%]{--border-color:#707070!important;color:#4a4a4a!important}.share[_ngcontent-%COMP%]{--background:#2672cb;text-transform:capitalize}.post[_ngcontent-%COMP%]{--background:#4a4a4a}ion-textarea[_ngcontent-%COMP%]{--background:#fff;border-radius:10px;color:#9b9b9b}.comment_text[_ngcontent-%COMP%]{margin-left:4vw;margin-right:4vw}.comment_text[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{color:#000}ion-card[_ngcontent-%COMP%]{border-radius:5px;position:relative;text-align:center;background-size:cover!important;background-repeat:no-repeat!important;height:calc(22vw - 40px)!important;width:auto;box-shadow:0 0 1px -2px rgba(0,0,0,.2),0 0 2px 0 rgba(0,0,0,.14),0 0 5px 0 rgba(0,0,0,.12)}ion-card[_ngcontent-%COMP%]   .card_bottom[_ngcontent-%COMP%]{height:1vh;background:#ff6979}.delete_icon[_ngcontent-%COMP%]{color:#ff6979;font-size:1.5em}.comment[_ngcontent-%COMP%]{font-size:1.3em;margin-top:1vh}.username[_ngcontent-%COMP%]{color:#2672cb;font-size:1.5em;margin-top:1vh}\"]}),LearnItemDetailsPage})()}];let learn_item_details_routing_module_LearnItemDetailsPageRoutingModule=(()=>{class LearnItemDetailsPageRoutingModule{}return LearnItemDetailsPageRoutingModule.ɵmod=core.Fb({type:LearnItemDetailsPageRoutingModule}),LearnItemDetailsPageRoutingModule.ɵinj=core.Eb({factory:function(t){return new(t||LearnItemDetailsPageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),LearnItemDetailsPageRoutingModule})(),learn_item_details_module_LearnItemDetailsPageModule=(()=>{class LearnItemDetailsPageModule{}return LearnItemDetailsPageModule.ɵmod=core.Fb({type:LearnItemDetailsPageModule}),LearnItemDetailsPageModule.ɵinj=core.Eb({factory:function(t){return new(t||LearnItemDetailsPageModule)},imports:[[common.b,fesm2015_forms.g,ionic_angular.D,learn_item_details_routing_module_LearnItemDetailsPageRoutingModule]]}),LearnItemDetailsPageModule})()}}]);","extractedComments":[]}