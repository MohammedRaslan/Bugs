{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{wq26:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,\"ShopPageModule\",(function(){return shop_module_ShopPageModule}));var common=__webpack_require__(\"ofXK\"),fesm2015_forms=__webpack_require__(\"3Pt+\"),ionic_angular=__webpack_require__(\"TEn/\"),router=__webpack_require__(\"tyNb\"),core=__webpack_require__(\"fXoL\"),api_service=__webpack_require__(\"H+bZ\"),loading_service_service=__webpack_require__(\"oWMX\"),toast_service_service=__webpack_require__(\"CwAd\"),Subject=__webpack_require__(\"XNiG\"),of=__webpack_require__(\"LRne\"),Observable=__webpack_require__(\"HDdC\"),Subscription=__webpack_require__(\"quSY\");class Action_Action extends Subscription.a{constructor(scheduler,work){super()}schedule(state,delay=0){return this}}class AsyncAction_AsyncAction extends Action_Action{constructor(scheduler,work){super(scheduler,work),this.scheduler=scheduler,this.work=work,this.pending=!1}schedule(state,delay=0){if(this.closed)return this;this.state=state;const id=this.id,scheduler=this.scheduler;return null!=id&&(this.id=this.recycleAsyncId(scheduler,id,delay)),this.pending=!0,this.delay=delay,this.id=this.id||this.requestAsyncId(scheduler,this.id,delay),this}requestAsyncId(scheduler,id,delay=0){return setInterval(scheduler.flush.bind(scheduler,this),delay)}recycleAsyncId(scheduler,id,delay=0){if(null!==delay&&this.delay===delay&&!1===this.pending)return id;clearInterval(id)}execute(state,delay){if(this.closed)return new Error(\"executing a cancelled action\");this.pending=!1;const error=this._execute(state,delay);if(error)return error;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(state,delay){let errored=!1,errorValue=void 0;try{this.work(state)}catch(e){errored=!0,errorValue=!!e&&e||new Error(e)}if(errored)return this.unsubscribe(),errorValue}_unsubscribe(){const id=this.id,scheduler=this.scheduler,actions=scheduler.actions,index=actions.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==index&&actions.splice(index,1),null!=id&&(this.id=this.recycleAsyncId(scheduler,id,null)),this.delay=null}}class QueueAction_QueueAction extends AsyncAction_AsyncAction{constructor(scheduler,work){super(scheduler,work),this.scheduler=scheduler,this.work=work}schedule(state,delay=0){return delay>0?super.schedule(state,delay):(this.delay=delay,this.state=state,this.scheduler.flush(this),this)}execute(state,delay){return delay>0||this.closed?super.execute(state,delay):this._execute(state,delay)}requestAsyncId(scheduler,id,delay=0){return null!==delay&&delay>0||null===delay&&this.delay>0?super.requestAsyncId(scheduler,id,delay):scheduler.flush(this)}}let Scheduler=(()=>{class Scheduler{constructor(SchedulerAction,now=Scheduler.now){this.SchedulerAction=SchedulerAction,this.now=now}schedule(work,delay=0,state){return new this.SchedulerAction(this,work).schedule(state,delay)}}return Scheduler.now=()=>Date.now(),Scheduler})();class AsyncScheduler_AsyncScheduler extends Scheduler{constructor(SchedulerAction,now=Scheduler.now){super(SchedulerAction,()=>AsyncScheduler_AsyncScheduler.delegate&&AsyncScheduler_AsyncScheduler.delegate!==this?AsyncScheduler_AsyncScheduler.delegate.now():now()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(work,delay=0,state){return AsyncScheduler_AsyncScheduler.delegate&&AsyncScheduler_AsyncScheduler.delegate!==this?AsyncScheduler_AsyncScheduler.delegate.schedule(work,delay,state):super.schedule(work,delay,state)}flush(action){const{actions:actions}=this;if(this.active)return void actions.push(action);let error;this.active=!0;do{if(error=action.execute(action.state,action.delay))break}while(action=actions.shift());if(this.active=!1,error){for(;action=actions.shift();)action.unsubscribe();throw error}}}class QueueScheduler_QueueScheduler extends AsyncScheduler_AsyncScheduler{}const queue=new QueueScheduler_QueueScheduler(QueueAction_QueueAction);var Subscriber=__webpack_require__(\"7o/Q\"),empty=__webpack_require__(\"EY2u\");let Notification_Notification=(()=>{class Notification{constructor(kind,value,error){this.kind=kind,this.value=value,this.error=error,this.hasValue=\"N\"===kind}observe(observer){switch(this.kind){case\"N\":return observer.next&&observer.next(this.value);case\"E\":return observer.error&&observer.error(this.error);case\"C\":return observer.complete&&observer.complete()}}do(next,error,complete){switch(this.kind){case\"N\":return next&&next(this.value);case\"E\":return error&&error(this.error);case\"C\":return complete&&complete()}}accept(nextOrObserver,error,complete){return nextOrObserver&&\"function\"==typeof nextOrObserver.next?this.observe(nextOrObserver):this.do(nextOrObserver,error,complete)}toObservable(){switch(this.kind){case\"N\":return Object(of.a)(this.value);case\"E\":return error=this.error,new Observable.a(subscriber=>subscriber.error(error));case\"C\":return Object(empty.b)()}var error;throw new Error(\"unexpected notification kind value\")}static createNext(value){return void 0!==value?new Notification(\"N\",value):Notification.undefinedValueNotification}static createError(err){return new Notification(\"E\",void 0,err)}static createComplete(){return Notification.completeNotification}}return Notification.completeNotification=new Notification(\"C\"),Notification.undefinedValueNotification=new Notification(\"N\",void 0),Notification})();class observeOn_ObserveOnSubscriber extends Subscriber.a{constructor(destination,scheduler,delay=0){super(destination),this.scheduler=scheduler,this.delay=delay}static dispatch(arg){const{notification:notification,destination:destination}=arg;notification.observe(destination),this.unsubscribe()}scheduleMessage(notification){this.destination.add(this.scheduler.schedule(observeOn_ObserveOnSubscriber.dispatch,this.delay,new ObserveOnMessage(notification,this.destination)))}_next(value){this.scheduleMessage(Notification_Notification.createNext(value))}_error(err){this.scheduleMessage(Notification_Notification.createError(err)),this.unsubscribe()}_complete(){this.scheduleMessage(Notification_Notification.createComplete()),this.unsubscribe()}}class ObserveOnMessage{constructor(notification,destination){this.notification=notification,this.destination=destination}}var ObjectUnsubscribedError=__webpack_require__(\"9ppp\"),SubjectSubscription=__webpack_require__(\"Ylt2\");class ReplaySubject_ReplaySubject extends Subject.a{constructor(bufferSize=Number.POSITIVE_INFINITY,windowTime=Number.POSITIVE_INFINITY,scheduler){super(),this.scheduler=scheduler,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=bufferSize<1?1:bufferSize,this._windowTime=windowTime<1?1:windowTime,windowTime===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(value){const _events=this._events;_events.push(value),_events.length>this._bufferSize&&_events.shift(),super.next(value)}nextTimeWindow(value){this._events.push(new ReplayEvent(this._getNow(),value)),this._trimBufferThenGetEvents(),super.next(value)}_subscribe(subscriber){const _infiniteTimeWindow=this._infiniteTimeWindow,_events=_infiniteTimeWindow?this._events:this._trimBufferThenGetEvents(),scheduler=this.scheduler,len=_events.length;let subscription;if(this.closed)throw new ObjectUnsubscribedError.a;if(this.isStopped||this.hasError?subscription=Subscription.a.EMPTY:(this.observers.push(subscriber),subscription=new SubjectSubscription.a(this,subscriber)),scheduler&&subscriber.add(subscriber=new observeOn_ObserveOnSubscriber(subscriber,scheduler)),_infiniteTimeWindow)for(let i=0;i<len&&!subscriber.closed;i++)subscriber.next(_events[i]);else for(let i=0;i<len&&!subscriber.closed;i++)subscriber.next(_events[i].value);return this.hasError?subscriber.error(this.thrownError):this.isStopped&&subscriber.complete(),subscription}_getNow(){return(this.scheduler||queue).now()}_trimBufferThenGetEvents(){const now=this._getNow(),_bufferSize=this._bufferSize,_windowTime=this._windowTime,_events=this._events,eventsCount=_events.length;let spliceCount=0;for(;spliceCount<eventsCount&&!(now-_events[spliceCount].time<_windowTime);)spliceCount++;return eventsCount>_bufferSize&&(spliceCount=Math.max(spliceCount,eventsCount-_bufferSize)),spliceCount>0&&_events.splice(0,spliceCount),_events}}class ReplayEvent{constructor(time,value){this.time=time,this.value=value}}var noop=__webpack_require__(\"KqfI\");const NEVER=new Observable.a(noop.a);var filter=__webpack_require__(\"pLZG\"),tap=__webpack_require__(\"vkgz\"),take=__webpack_require__(\"IzEk\"),mergeMap=__webpack_require__(\"5+tZ\"),map=__webpack_require__(\"lJxs\"),catchError=__webpack_require__(\"JIr8\"),switchMap=__webpack_require__(\"eIep\");function isChildOfPicture(element){return Boolean(element.parentElement&&\"picture\"===element.parentElement.nodeName.toLowerCase())}function isImageElement(element){return\"img\"===element.nodeName.toLowerCase()}function setImage(element,imagePath,useSrcset){return isImageElement(element)?useSrcset&&\"srcset\"in element?element.srcset=imagePath:element.src=imagePath:element.style.backgroundImage=`url('${imagePath}')`,element}function setSources(attrName){return image=>{const sources=image.parentElement.getElementsByTagName(\"source\");for(let i=0;i<sources.length;i++){const attrValue=sources[i].getAttribute(attrName);attrValue&&(\"srcset\"in sources[i]?sources[i].srcset=attrValue:sources[i].src=attrValue)}}}__webpack_require__(\"JX91\"),__webpack_require__(\"w1tV\");const setSourcesToDefault=setSources(\"defaultImage\"),setSourcesToLazy=setSources(\"lazyLoad\"),setSourcesToError=setSources(\"errorImage\");function setImageAndSources(setSourcesFn){return(element,imagePath,useSrcset)=>{isImageElement(element)&&isChildOfPicture(element)&&setSourcesFn(element),imagePath&&setImage(element,imagePath,useSrcset)}}const setImageAndSourcesToDefault=setImageAndSources(setSourcesToDefault),setImageAndSourcesToLazy=setImageAndSources(setSourcesToLazy),setImageAndSourcesToError=setImageAndSources(setSourcesToError);function removeCssClassName(element,cssClassName){element.className=element.className.replace(cssClassName,\"\")}function addCssClassName(element,cssClassName){element.className.includes(cssClassName)||(element.className+=\" \"+cssClassName)}let ng_lazyload_image_IntersectionObserverHooks=(()=>{class IntersectionObserverHooks extends class extends class{constructor(){this.navigator=\"undefined\"!=typeof window?window.navigator:void 0}setPlatformId(platformId){this.platformId=platformId}onDestroy(attributes){}onAttributeChange(newAttributes){}}{setup(attributes){var element;setImageAndSourcesToDefault(attributes.element,attributes.defaultImagePath,attributes.useSrcset),addCssClassName(attributes.element,\"ng-lazyloading\"),(element=attributes.element).className&&element.className.includes(\"ng-lazyloaded\")&&removeCssClassName(attributes.element,\"ng-lazyloaded\")}finally(attributes){addCssClassName(attributes.element,\"ng-lazyloaded\"),removeCssClassName(attributes.element,\"ng-lazyloading\")}loadImage(attributes){if(this.skipLazyLoading(attributes))return[attributes.imagePath];const{element:element,useSrcset:useSrcset,imagePath:imagePath,decode:decode}=attributes;let img;if(isImageElement(element)&&isChildOfPicture(element)){const parentClone=element.parentNode.cloneNode(!0);img=parentClone.getElementsByTagName(\"img\")[0],setSourcesToLazy(img),setImage(img,imagePath,useSrcset)}else img=new Image,isImageElement(element)&&element.referrerPolicy&&(img.referrerPolicy=element.referrerPolicy),isImageElement(element)&&element.sizes&&(img.sizes=element.sizes),useSrcset&&\"srcset\"in img?img.srcset=imagePath:img.src=imagePath;return decode&&img.decode?img.decode().then(()=>imagePath):new Promise((resolve,reject)=>{img.onload=()=>resolve(imagePath),img.onerror=()=>reject(null)})}setErrorImage(error,attributes){const{element:element,useSrcset:useSrcset,errorImagePath:errorImagePath}=attributes;setImageAndSourcesToError(element,errorImagePath,useSrcset),addCssClassName(element,\"ng-failed-lazyloaded\")}setLoadedImage(imagePath,attributes){const{element:element,useSrcset:useSrcset}=attributes;setImageAndSourcesToLazy(element,imagePath,useSrcset)}isDisabled(){return Object(common.o)(this.platformId)&&!this.isBot()}skipLazyLoading(attributes){return this.isBot(attributes)}isBot(attributes){var _a;return!!(null===(_a=this.navigator)||void 0===_a?void 0:_a.userAgent)&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\\ link\\ preview|showyoubot|outbrain|pinterest\\/0\\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot/i.test(this.navigator.userAgent)}}{constructor(){super(...arguments),this.observers=new WeakMap,this.intersectionSubject=new Subject.a,this.uniqKey={}}getObservable(attributes){if(this.skipLazyLoading(attributes))return Object(of.a)({isIntersecting:!0});if(attributes.customObservable)return attributes.customObservable;const scrollContainerKey=attributes.scrollContainer||this.uniqKey,options={root:attributes.scrollContainer||null};attributes.offset&&(options.rootMargin=attributes.offset+\"px\");let observer=this.observers.get(scrollContainerKey);return observer||(observer=new IntersectionObserver(entrys=>this.loadingCallback(entrys),options),this.observers.set(scrollContainerKey,observer)),observer.observe(attributes.element),Observable.a.create(obs=>{const subscription=this.intersectionSubject.pipe(Object(filter.a)(entry=>entry.target===attributes.element)).subscribe(obs);return()=>{subscription.unsubscribe(),observer.unobserve(attributes.element)}})}isVisible(event){return event.isIntersecting}loadingCallback(entrys){entrys.forEach(entry=>this.intersectionSubject.next(entry))}}return IntersectionObserverHooks.ɵfac=function(t){return ɵIntersectionObserverHooks_BaseFactory(t||IntersectionObserverHooks)},IntersectionObserverHooks.ɵprov=core.Db({token:IntersectionObserverHooks,factory:IntersectionObserverHooks.ɵfac}),IntersectionObserverHooks})();const ɵIntersectionObserverHooks_BaseFactory=core.Ob(ng_lazyload_image_IntersectionObserverHooks),LAZYLOAD_IMAGE_HOOKS=new core.q(\"LazyLoadImageHooks\");let ng_lazyload_image_LazyLoadImageDirective=(()=>{class LazyLoadImageDirective{constructor(el,ngZone,platformId,hooks){this.onStateChange=new core.n,this.elementRef=el,this.ngZone=ngZone,this.propertyChanges$=new ReplaySubject_ReplaySubject,this.hooks=hooks,this.hooks.setPlatformId(platformId),this.uid=Math.random().toString(36).substr(2,9)}ngOnChanges(){!0!==this.debug||this.debugSubscription||(this.debugSubscription=this.onStateChange.subscribe(e=>console.log(e))),this.propertyChanges$.next({element:this.elementRef.nativeElement,imagePath:this.lazyImage,defaultImagePath:this.defaultImage,errorImagePath:this.errorImage,useSrcset:this.useSrcset,offset:this.offset?0|this.offset:0,scrollContainer:this.scrollTarget,customObservable:this.customObservable,decode:this.decode,onStateChange:this.onStateChange,id:this.uid})}ngAfterContentInit(){if(this.hooks.isDisabled())return null;this.ngZone.runOutsideAngular(()=>{this.loadSubscription=this.propertyChanges$.pipe(Object(tap.a)(attributes=>this.hooks.onAttributeChange(attributes)),Object(tap.a)(attributes=>attributes.onStateChange.emit({reason:\"setup\"})),Object(tap.a)(attributes=>this.hooks.setup(attributes)),Object(switchMap.a)(attributes=>attributes.imagePath?this.hooks.getObservable(attributes).pipe(function(hooks,attributes){return evntObservable=>evntObservable.pipe(Object(tap.a)(data=>attributes.onStateChange.emit({reason:\"observer-emit\",data:data})),Object(filter.a)(event=>hooks.isVisible(event,attributes)),Object(take.a)(1),Object(tap.a)(()=>attributes.onStateChange.emit({reason:\"start-loading\"})),Object(mergeMap.a)(()=>hooks.loadImage(attributes)),Object(tap.a)(()=>attributes.onStateChange.emit({reason:\"mount-image\"})),Object(tap.a)(imagePath=>hooks.setLoadedImage(imagePath,attributes)),Object(tap.a)(()=>attributes.onStateChange.emit({reason:\"loading-succeeded\"})),Object(map.a)(()=>!0),Object(catchError.a)(error=>(attributes.onStateChange.emit({reason:\"loading-failed\",data:error}),hooks.setErrorImage(error,attributes),Object(of.a)(!1))),Object(tap.a)(()=>{attributes.onStateChange.emit({reason:\"finally\"}),hooks.finally(attributes)}))}(this.hooks,attributes)):NEVER)).subscribe({next:()=>null})})}ngOnDestroy(){var _a,_b;this.propertyChanges$.pipe(Object(take.a)(1)).subscribe({next:attributes=>this.hooks.onDestroy(attributes)}).unsubscribe(),null===(_a=this.loadSubscription)||void 0===_a||_a.unsubscribe(),null===(_b=this.debugSubscription)||void 0===_b||_b.unsubscribe()}}return LazyLoadImageDirective.ɵfac=function(t){return new(t||LazyLoadImageDirective)(core.Hb(core.l),core.Hb(core.z),core.Hb(core.B),core.Hb(LAZYLOAD_IMAGE_HOOKS))},LazyLoadImageDirective.ɵdir=core.Cb({type:LazyLoadImageDirective,selectors:[[\"\",\"lazyLoad\",\"\"]],inputs:{lazyImage:[\"lazyLoad\",\"lazyImage\"],defaultImage:\"defaultImage\",errorImage:\"errorImage\",scrollTarget:\"scrollTarget\",customObservable:\"customObservable\",offset:\"offset\",useSrcset:\"useSrcset\",decode:\"decode\",debug:\"debug\"},outputs:{onStateChange:\"onStateChange\"},features:[core.vb]}),LazyLoadImageDirective})(),ng_lazyload_image_LazyLoadImageModule=(()=>{class LazyLoadImageModule{}return LazyLoadImageModule.ɵmod=core.Fb({type:LazyLoadImageModule}),LazyLoadImageModule.ɵinj=core.Eb({factory:function(t){return new(t||LazyLoadImageModule)},providers:[{provide:LAZYLOAD_IMAGE_HOOKS,useClass:ng_lazyload_image_IntersectionObserverHooks}]}),LazyLoadImageModule})();function ShopPage_div_9_ion_segment_button_1_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"ion-segment-button\",12),core.Mb(1,\"ion-label\"),core.hc(2),core.Lb(),core.Lb()),2&rf){const cat_r3=core.Wb().$implicit;core.Zb(\"value\",null==cat_r3?null:cat_r3.id),core.xb(2),core.ic(null==cat_r3?null:cat_r3.name)}}function ShopPage_div_9_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"div\"),core.gc(1,ShopPage_div_9_ion_segment_button_1_Template,3,2,\"ion-segment-button\",11),core.Lb()),2&rf){const cat_r3=ctx.$implicit;core.xb(1),core.Zb(\"ngIf\",1==(null==cat_r3?null:cat_r3.status))}}function ShopPage_div_11_div_1_ion_card_1_ion_col_10_Template(rf,ctx){1&rf&&(core.Mb(0,\"ion-col\",29),core.Mb(1,\"div\",30),core.Mb(2,\"h6\"),core.hc(3,\"Sale\"),core.Lb(),core.Lb(),core.Lb())}function ShopPage_div_11_div_1_ion_card_1_ion_col_11_Template(rf,ctx){1&rf&&(core.Mb(0,\"ion-col\",29),core.Mb(1,\"div\",31),core.Mb(2,\"h6\"),core.hc(3,\"New\"),core.Lb(),core.Lb(),core.Lb())}function ShopPage_div_11_div_1_ion_card_1_ion_col_12_Template(rf,ctx){1&rf&&core.Ib(0,\"ion-col\",29)}function ShopPage_div_11_div_1_ion_card_1_div_13_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"div\"),core.Mb(1,\"p\",32),core.hc(2),core.Lb(),core.Lb()),2&rf){const item_r7=core.Wb(2).$implicit;core.xb(2),core.ic(null==item_r7?null:item_r7.desc)}}function ShopPage_div_11_div_1_ion_card_1_div_14_Template(rf,ctx){1&rf&&(core.Mb(0,\"div\"),core.Ib(1,\"br\"),core.Lb())}function ShopPage_div_11_div_1_ion_card_1_ion_col_16_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"ion-col\",33),core.Mb(1,\"span\"),core.hc(2),core.Lb(),core.Lb()),2&rf){const item_r7=core.Wb(2).$implicit;core.xb(2),core.jc(\"EGP \",null==item_r7?null:item_r7.price,\"\")}}function ShopPage_div_11_div_1_ion_card_1_ion_col_17_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"ion-col\",34),core.Mb(1,\"span\"),core.hc(2),core.Lb(),core.Lb()),2&rf){const item_r7=core.Wb(2).$implicit;core.xb(2),core.jc(\"EGP \",null==item_r7?null:item_r7.price,\"\")}}function ShopPage_div_11_div_1_ion_card_1_ion_col_18_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"ion-col\",35),core.Mb(1,\"span\"),core.hc(2),core.Lb(),core.Lb()),2&rf){const item_r7=core.Wb(2).$implicit;core.xb(2),core.jc(\"EGP \",(null==item_r7?null:item_r7.price)-(null==item_r7?null:item_r7.price)*(null==item_r7?null:item_r7.sale_percent)/100,\"\")}}function ShopPage_div_11_div_1_ion_card_1_Template(rf,ctx){if(1&rf){const _r23=core.Nb();core.Mb(0,\"ion-card\",15),core.Ub(\"click\",(function(){core.bc(_r23);const item_r7=core.Wb().$implicit;return core.Wb(2).goToItemDetails(item_r7)})),core.Mb(1,\"ion-grid\"),core.Mb(2,\"ion-row\"),core.Mb(3,\"ion-col\",16),core.Ib(4,\"img\",17),core.Lb(),core.Mb(5,\"ion-col\",18),core.Mb(6,\"ion-row\"),core.Mb(7,\"ion-col\",19),core.Mb(8,\"span\",20),core.hc(9),core.Lb(),core.Lb(),core.gc(10,ShopPage_div_11_div_1_ion_card_1_ion_col_10_Template,4,0,\"ion-col\",21),core.gc(11,ShopPage_div_11_div_1_ion_card_1_ion_col_11_Template,4,0,\"ion-col\",21),core.gc(12,ShopPage_div_11_div_1_ion_card_1_ion_col_12_Template,1,0,\"ion-col\",21),core.Lb(),core.gc(13,ShopPage_div_11_div_1_ion_card_1_div_13_Template,3,1,\"div\",8),core.gc(14,ShopPage_div_11_div_1_ion_card_1_div_14_Template,2,0,\"div\",8),core.Mb(15,\"ion-row\"),core.gc(16,ShopPage_div_11_div_1_ion_card_1_ion_col_16_Template,3,1,\"ion-col\",22),core.gc(17,ShopPage_div_11_div_1_ion_card_1_ion_col_17_Template,3,1,\"ion-col\",23),core.gc(18,ShopPage_div_11_div_1_ion_card_1_ion_col_18_Template,3,1,\"ion-col\",24),core.Mb(19,\"ion-col\",25),core.Mb(20,\"div\",26),core.Ib(21,\"img\",27),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Ib(22,\"div\",28),core.Lb()}if(2&rf){const item_r7=core.Wb().$implicit,ctx_r8=core.Wb(2);core.xb(4),core.Zb(\"defaultImage\",ctx_r8.lazyImage)(\"lazyLoad\",null==item_r7?null:item_r7.img1),core.xb(5),core.ic(null==item_r7?null:item_r7.name),core.xb(1),core.Zb(\"ngIf\",1==item_r7.sale),core.xb(1),core.Zb(\"ngIf\",0==item_r7.sale&&1==item_r7.new),core.xb(1),core.Zb(\"ngIf\",0==item_r7.sale&&0==item_r7.new),core.xb(1),core.Zb(\"ngIf\",null!=item_r7.desc&&\"null\"!=item_r7.desc),core.xb(1),core.Zb(\"ngIf\",null==item_r7.desc||\"null\"==item_r7.desc),core.xb(2),core.Zb(\"ngIf\",item_r7.sale>0),core.xb(1),core.Zb(\"ngIf\",0==item_r7.sale),core.xb(1),core.Zb(\"ngIf\",item_r7.sale>0)}}function ShopPage_div_11_div_1_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"div\"),core.gc(1,ShopPage_div_11_div_1_ion_card_1_Template,23,11,\"ion-card\",14),core.Lb()),2&rf){const item_r7=ctx.$implicit;core.xb(1),core.Zb(\"ngIf\",1==item_r7.status)}}function ShopPage_div_11_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"div\",13),core.gc(1,ShopPage_div_11_div_1_Template,2,1,\"div\",5),core.Lb()),2&rf){const ctx_r1=core.Wb();core.xb(1),core.Zb(\"ngForOf\",ctx_r1.data)}}function ShopPage_div_12_div_1_div_1_ion_card_1_ion_col_10_Template(rf,ctx){1&rf&&(core.Mb(0,\"ion-col\",29),core.Mb(1,\"div\",30),core.Mb(2,\"h6\"),core.hc(3,\"Sale\"),core.Lb(),core.Lb(),core.Lb())}function ShopPage_div_12_div_1_div_1_ion_card_1_ion_col_11_Template(rf,ctx){1&rf&&(core.Mb(0,\"ion-col\",29),core.Mb(1,\"div\",31),core.Mb(2,\"h6\"),core.hc(3,\"New\"),core.Lb(),core.Lb(),core.Lb())}function ShopPage_div_12_div_1_div_1_ion_card_1_ion_col_12_Template(rf,ctx){1&rf&&core.Ib(0,\"ion-col\",29)}function ShopPage_div_12_div_1_div_1_ion_card_1_div_13_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"div\"),core.Mb(1,\"p\",32),core.hc(2),core.Lb(),core.Lb()),2&rf){const item_r27=core.Wb(2).$implicit;core.xb(2),core.ic(null==item_r27?null:item_r27.desc)}}function ShopPage_div_12_div_1_div_1_ion_card_1_div_14_Template(rf,ctx){1&rf&&(core.Mb(0,\"div\"),core.Ib(1,\"br\"),core.Lb())}function ShopPage_div_12_div_1_div_1_ion_card_1_Template(rf,ctx){if(1&rf){const _r37=core.Nb();core.Mb(0,\"ion-card\",15),core.Ub(\"click\",(function(){core.bc(_r37);const item_r27=core.Wb().$implicit;return core.Wb(3).goToItemDetails(item_r27)})),core.Mb(1,\"ion-grid\"),core.Mb(2,\"ion-row\"),core.Mb(3,\"ion-col\",16),core.Ib(4,\"img\",36),core.Lb(),core.Mb(5,\"ion-col\",18),core.Mb(6,\"ion-row\"),core.Mb(7,\"ion-col\",19),core.Mb(8,\"span\",20),core.hc(9),core.Lb(),core.Lb(),core.gc(10,ShopPage_div_12_div_1_div_1_ion_card_1_ion_col_10_Template,4,0,\"ion-col\",21),core.gc(11,ShopPage_div_12_div_1_div_1_ion_card_1_ion_col_11_Template,4,0,\"ion-col\",21),core.gc(12,ShopPage_div_12_div_1_div_1_ion_card_1_ion_col_12_Template,1,0,\"ion-col\",21),core.Lb(),core.gc(13,ShopPage_div_12_div_1_div_1_ion_card_1_div_13_Template,3,1,\"div\",8),core.gc(14,ShopPage_div_12_div_1_div_1_ion_card_1_div_14_Template,2,0,\"div\",8),core.Mb(15,\"ion-row\"),core.Mb(16,\"ion-col\",34),core.Mb(17,\"span\"),core.hc(18),core.Lb(),core.Lb(),core.Mb(19,\"ion-col\",25),core.Mb(20,\"div\",26),core.Ib(21,\"img\",27),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Ib(22,\"div\",28),core.Lb()}if(2&rf){const item_r27=core.Wb().$implicit;core.xb(4),core.Zb(\"src\",null==item_r27?null:item_r27.img1,core.dc),core.xb(5),core.ic(null==item_r27?null:item_r27.name),core.xb(1),core.Zb(\"ngIf\",1==item_r27.sale),core.xb(1),core.Zb(\"ngIf\",0==item_r27.sale&&1==item_r27.new),core.xb(1),core.Zb(\"ngIf\",0==item_r27.sale&&0==item_r27.new),core.xb(1),core.Zb(\"ngIf\",null!=item_r27.desc&&\"null\"!=item_r27.desc),core.xb(1),core.Zb(\"ngIf\",null==item_r27.desc||\"null\"==item_r27.desc),core.xb(4),core.jc(\"EGP \",null==item_r27?null:item_r27.price,\"\")}}function ShopPage_div_12_div_1_div_1_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"div\"),core.gc(1,ShopPage_div_12_div_1_div_1_ion_card_1_Template,23,8,\"ion-card\",14),core.Lb()),2&rf){const item_r27=ctx.$implicit;core.xb(1),core.Zb(\"ngIf\",1==item_r27.status)}}function ShopPage_div_12_div_1_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"div\",13),core.gc(1,ShopPage_div_12_div_1_div_1_Template,2,1,\"div\",5),core.Lb()),2&rf){const ctx_r25=core.Wb(2);core.xb(1),core.Zb(\"ngForOf\",ctx_r25.data)}}function ShopPage_div_12_Template(rf,ctx){if(1&rf&&(core.Mb(0,\"div\"),core.gc(1,ShopPage_div_12_div_1_Template,2,1,\"div\",7),core.Lb()),2&rf){const ctx_r2=core.Wb();core.xb(1),core.Zb(\"ngSwitchCase\",null==ctx_r2.category?null:ctx_r2.category.name)}}const routes=[{path:\"\",component:(()=>{class ShopPage{constructor(router,navCtrl,api,loading,toast){this.router=router,this.navCtrl=navCtrl,this.api=api,this.loading=loading,this.toast=toast,this.lazyImage=\"https://proofmart.com/wp-content/uploads/2020/09/loading-icon-2-product.png\",this.category={id:0,name:\"all\",created_at:\"2020-08-16 13:21:19\",offer_id:null,status:1,updated_at:\"2020-08-17 15:24:52\"},this.categories=[{id:0,name:\"all\",created_at:\"2020-08-16 13:21:19\",offer_id:null,status:1,updated_at:\"2020-08-17 15:24:52\"}],this.nextPageLink=null,this.data=[]}ngOnInit(){}ionViewWillEnter(){console.log(\"loading shop\"),this.getAllProducts()}goToItemDetails(item){this.navCtrl.navigateRoot([\"shop-item-details\"],{state:{item:item}})}back(){this.navCtrl.back()}getAllProducts(){this.category.name=\"all\",console.log(\"shope loading\"),this.loading.isLoading&&(this.loading.isLoading=!1,this.loading.dismiss()),this.loading.present(),this.api.getAllProductsWithCategories().then(res=>{console.log(res),this.data=res.products.data,this.loading.dismiss(),this.nextPageLink=res.products.next_page_url,console.log(\"next page\"+res.next_page_url),console.log(\"next page\"+this.nextPageLink),console.log(\"cat\"+this.categories[0]),console.log(\"cat\"+this.categories.length);for(let item of this.data)item.img1=\"https://bugsnroses.com/\"+item.img1.replace(\"public\",\"storage\"),item.img2=\"https://bugsnroses.com/\"+item.img2.replace(\"public\",\"storage\"),item.img3=\"https://bugsnroses.com/\"+item.img3.replace(\"public\",\"storage\"),item.name=JSON.parse(item.name).en,item.text=JSON.parse(item.text).en,item.category.name=JSON.parse(item.category.name).en;if(1==this.categories.length)for(let item of res.categories)item.name=JSON.parse(item.name).en,this.categories.push(item);console.log(this.categories),console.log(\"next page\"+res.next_page_url)},error=>{this.loading.dismiss(),this.toast.present(error.error.message)})}getAllProductsByCategory(id){console.log(\"shop loading\"),this.loading.present(),this.api.getProductsByCategory(id).then(res=>{console.log(res),this.loading.dismiss(),this.data=[];for(let item of res.data)item.img1=\"https://bugsnroses.com/\"+item.img1.replace(\"public\",\"storage\"),item.img2=\"https://bugsnroses.com/\"+item.img2.replace(\"public\",\"storage\"),item.img3=\"https://bugsnroses.com/\"+item.img3.replace(\"public\",\"storage\"),item.name=JSON.parse(item.name).en,item.text=JSON.parse(item.text).en,item.category.name=JSON.parse(item.category.name).en;this.data=res.data,this.nextPageLink=res.next_page_url,console.log(\"next page\"+res.next_page_url),console.log(\"next page\"+this.nextPageLink)},error=>{this.loading.dismiss(),this.toast.present(error.error.message)})}loadNewProductsData(infiniteScrollEvent){null==this.nextPageLink||null==this.nextPageLink?(this.infiniteScroll.disabled=!0,infiniteScrollEvent.target.complete()):this.api.getNextProducts(this.nextPageLink).then(res=>{console.log(\"next page result \"),console.log(res),this.infiniteScroll.disabled=!0;for(const item of res.products.data)item.name=JSON.parse(item.name).en,item.text=JSON.parse(item.text).en,item.category.name=JSON.parse(item.category.name).en,item.img1=\"https://bugsnroses.com/\"+item.img1.replace(\"public\",\"storage\"),item.img2=\"https://bugsnroses.com/\"+item.img2.replace(\"public\",\"storage\"),item.img3=\"https://bugsnroses.com/\"+item.img3.replace(\"public\",\"storage\"),this.data.push(item);this.nextPageLink=res.products.next_page_url,infiniteScrollEvent&&infiniteScrollEvent.target.complete(),this.loading.isLoading&&this.loading.dismiss()},error=>{console.log(error),this.infiniteScroll.disabled=!0,infiniteScrollEvent&&infiniteScrollEvent.target.complete(),this.loading.isLoading&&this.loading.dismiss()})}infiniteScrollLoadMore(event){this.loadNewProductsData(event)}segmentChanged(ev){if(console.log(\"Segment changed\",ev),console.log(\"Segment changed\",ev.detail.value),0==ev.detail.value)this.category.name=\"all\",this.data=[],this.getAllProducts();else{for(let cat of this.categories)if(cat.id===ev.detail.value){this.category.name=cat.name;break}this.data=[],this.getAllProductsByCategory(ev.detail.value)}}}return ShopPage.ɵfac=function(t){return new(t||ShopPage)(core.Hb(router.g),core.Hb(ionic_angular.H),core.Hb(api_service.a),core.Hb(loading_service_service.a),core.Hb(toast_service_service.a))},ShopPage.ɵcmp=core.Bb({type:ShopPage,selectors:[[\"app-shop\"]],viewQuery:function(rf,ctx){var _t;1&rf&&core.lc(ionic_angular.k,!0),2&rf&&core.ac(_t=core.Vb())&&(ctx.infiniteScroll=_t.first)},decls:15,vars:5,consts:[[1,\"title-row\"],[\"size\",\"4\",1,\"ion-text-start\",\"back-container\"],[\"src\",\"assets/imgs/signup/back.png\",\"alt\",\"\",3,\"click\"],[1,\"ion-text-start\",\"title\"],[\"scrollable\",\"\",3,\"value\",\"ionChange\"],[4,\"ngFor\",\"ngForOf\"],[3,\"ngSwitch\"],[\"class\",\"container\",4,\"ngSwitchCase\"],[4,\"ngIf\"],[3,\"ionInfinite\"],[\"loadingSpinner\",\"bubbles\",\"loadingText\",\"loading\",\"color\",\"white\"],[3,\"value\",4,\"ngIf\"],[3,\"value\"],[1,\"container\"],[\"class\",\"top_Card\",3,\"click\",4,\"ngIf\"],[1,\"top_Card\",3,\"click\"],[\"size\",\"4\"],[\"alt\",\"\",3,\"defaultImage\",\"lazyLoad\"],[\"size\",\"8\",1,\"ion-text-start\"],[\"size\",\"9\",1,\"ion-text-start\"],[1,\"card-title\"],[\"size\",\"3\",\"class\",\"ion-text-end\",4,\"ngIf\"],[\"size\",\"4\",\"class\",\"ion-text-start salary_discount\",4,\"ngIf\"],[\"size\",\"10\",\"class\",\"ion-text-start salary\",4,\"ngIf\"],[\"size\",\"6\",\"class\",\"ion-text-start salary\",4,\"ngIf\"],[\"size\",\"2\",1,\"ion-text-end\"],[1,\"plus\"],[\"src\",\"assets/imgs/shop/plus.png\",\"alt\",\"\"],[1,\"card_bottom\"],[\"size\",\"3\",1,\"ion-text-end\"],[1,\"sale\"],[1,\"new\"],[1,\"discription\"],[\"size\",\"4\",1,\"ion-text-start\",\"salary_discount\"],[\"size\",\"10\",1,\"ion-text-start\",\"salary\"],[\"size\",\"6\",1,\"ion-text-start\",\"salary\"],[\"alt\",\"\",3,\"src\"]],template:function(rf,ctx){1&rf&&(core.Mb(0,\"ion-content\"),core.Mb(1,\"ion-grid\"),core.Mb(2,\"ion-row\",0),core.Mb(3,\"ion-col\",1),core.Mb(4,\"img\",2),core.Ub(\"click\",(function(){return ctx.back()})),core.Lb(),core.Lb(),core.Mb(5,\"ion-col\",3),core.Mb(6,\"span\"),core.hc(7,\" SHOP \"),core.Lb(),core.Lb(),core.Lb(),core.Lb(),core.Mb(8,\"ion-segment\",4),core.Ub(\"ionChange\",(function($event){return ctx.segmentChanged($event)})),core.gc(9,ShopPage_div_9_Template,2,1,\"div\",5),core.Lb(),core.Mb(10,\"div\",6),core.gc(11,ShopPage_div_11_Template,2,1,\"div\",7),core.gc(12,ShopPage_div_12_Template,2,1,\"div\",8),core.Lb(),core.Mb(13,\"ion-infinite-scroll\",9),core.Ub(\"ionInfinite\",(function($event){return ctx.infiniteScrollLoadMore($event)})),core.Ib(14,\"ion-infinite-scroll-content\",10),core.Lb(),core.Lb()),2&rf&&(core.xb(8),core.Zb(\"value\",ctx.category.id),core.xb(1),core.Zb(\"ngForOf\",ctx.categories),core.xb(1),core.Zb(\"ngSwitch\",null==ctx.category?null:ctx.category.name),core.xb(1),core.Zb(\"ngSwitchCase\",\"all\"),core.xb(1),core.Zb(\"ngIf\",\"all\"!=(null==ctx.category?null:ctx.category.name)))},directives:[ionic_angular.h,ionic_angular.i,ionic_angular.s,ionic_angular.g,ionic_angular.t,ionic_angular.K,common.h,common.j,common.k,common.i,ionic_angular.k,ionic_angular.l,ionic_angular.u,ionic_angular.o,ionic_angular.e,ng_lazyload_image_LazyLoadImageDirective],styles:[\"ion-content[_ngcontent-%COMP%]{--background:#f5f6f8}.back-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;margin-left:1vw}.title-row[_ngcontent-%COMP%]{margin-top:2vh}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.6em;color:#178dd5;font-weight:700;margin-left:5vw}ion-segment[_ngcontent-%COMP%]{margin-top:2vh}ion-segment-button[_ngcontent-%COMP%]{--indicator-color:transparent!important;--indicator-color-checked:transparent!important;color:#178dd5;text-transform:capitalize}.segment-button-checked[_ngcontent-%COMP%]{font-weight:700}ion-card[_ngcontent-%COMP%]{border-radius:5px;position:relative;text-align:center;background-size:cover!important;background-repeat:no-repeat!important;height:calc(50vw - 40px)!important;width:auto;box-shadow:0 0 1px -2px rgba(0,0,0,.2),0 0 2px 0 rgba(0,0,0,.14),0 0 5px 0 rgba(0,0,0,.12)}ion-card[_ngcontent-%COMP%]   .card_bottom[_ngcontent-%COMP%]{height:1vh;background:#ff6979}.container[_ngcontent-%COMP%]{padding-left:3vw;padding-right:3vw}.plus[_ngcontent-%COMP%]{background:#ff6979;width:6vw;height:3vh;border-radius:25px;display:flex;align-items:center;justify-content:center}.plus[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60%}.shop[_ngcontent-%COMP%]{background:#add172;width:6vw;height:3vh;border-radius:25px;display:flex;align-items:center;justify-content:center}.shop[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60%}.sale[_ngcontent-%COMP%]{background:#eb8f94;width:55px;height:25px;display:flex;align-items:center;justify-content:center}.sale[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60%}.sale[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#fff;font-size:1em;text-transform:uppercase}.new[_ngcontent-%COMP%]{background:#5bc1e3;width:55px;height:25px;display:flex;align-items:center;justify-content:center}.new[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60%}.new[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#fff;font-size:1em;text-transform:uppercase}.card-title[_ngcontent-%COMP%]{font-size:1.3em;font-weight:700;color:#333}.salary[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.salary[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff6979;font-size:1em}.salary_discount[_ngcontent-%COMP%]{display:flex;align-items:flex-end}.salary_discount[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:line-through;color:#ff6979;font-size:1em}.discription[_ngcontent-%COMP%]{margin-left:2vw;padding-right:15vw;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}\"]}),ShopPage})()}];let shop_routing_module_ShopPageRoutingModule=(()=>{class ShopPageRoutingModule{}return ShopPageRoutingModule.ɵmod=core.Fb({type:ShopPageRoutingModule}),ShopPageRoutingModule.ɵinj=core.Eb({factory:function(t){return new(t||ShopPageRoutingModule)},imports:[[router.i.forChild(routes)],router.i]}),ShopPageRoutingModule})(),shop_module_ShopPageModule=(()=>{class ShopPageModule{}return ShopPageModule.ɵmod=core.Fb({type:ShopPageModule}),ShopPageModule.ɵinj=core.Eb({factory:function(t){return new(t||ShopPageModule)},imports:[[common.b,fesm2015_forms.g,ionic_angular.D,ng_lazyload_image_LazyLoadImageModule,shop_routing_module_ShopPageRoutingModule]]}),ShopPageModule})()}}]);","extractedComments":[]}