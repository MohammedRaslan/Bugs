!function(){function n(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}function o(n,o){for(var t=0;t<o.length;t++){var e=o[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function t(n,t,e){return t&&o(n.prototype,t),e&&o(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{CwAd:function(o,e,i){"use strict";i.d(e,"a",(function(){return c}));var r=i("mrSG"),s=i("fXoL"),a=i("TEn/"),c=function(){var o=function(){function o(t){n(this,o),this.toastController=t}return t(o,[{key:"present",value:function(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({message:n,position:o,duration:t,cssClass:"toast-message"});case 2:e.sent.present();case 3:case"end":return e.stop()}}),e,this)})))}}]),o}();return o.\u0275fac=function(n){return new(n||o)(s.Qb(a.M))},o.\u0275prov=s.Db({token:o,factory:o.\u0275fac,providedIn:"root"}),o}()},F4UR:function(o,e,i){"use strict";i.r(e),i.d(e,"LoginPageModule",(function(){return _}));var r=i("ofXK"),s=i("3Pt+"),a=i("TEn/"),c=i("tyNb"),l=i("mrSG"),g=i("fXoL"),u=i("CwAd"),d=i("UPSQ"),p=i("oWMX"),b=i("GGTb"),f=i("up+p");function h(n,o){if(1&n&&(g.Mb(0,"div",18),g.hc(1),g.Lb()),2&n){var t=g.Wb().$implicit;g.xb(1),g.jc(" ",t.message," ")}}function m(n,o){if(1&n&&(g.Kb(0),g.gc(1,h,2,1,"div",17),g.Jb()),2&n){var t=o.$implicit,e=g.Wb();g.xb(1),g.Zb("ngIf",e.Form.get("username").hasError(t.type)&&e.Form.get("username").dirty&&e.Form.get("username").touched)}}function v(n,o){if(1&n&&(g.Mb(0,"div",18),g.hc(1),g.Lb()),2&n){var t=g.Wb().$implicit;g.xb(1),g.jc(" ",t.message," ")}}function w(n,o){if(1&n&&(g.Kb(0),g.gc(1,v,2,1,"div",17),g.Jb()),2&n){var t=o.$implicit,e=g.Wb();g.xb(1),g.Zb("ngIf",e.Form.get("password").hasError(t.type)&&e.Form.get("password").dirty&&e.Form.get("password").touched)}}var k,y,L,C=[{path:"",component:(k=function(){function o(t,e,i,r,a,c,l){n(this,o),this.navCtrl=t,this.formBuilder=e,this.toast=i,this.api=r,this.loading=a,this.fb=c,this.googlePlus=l,this.emailPattern=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,this.validation_messages={username:[{type:"required",message:"Email is required."},{type:"pattern",message:"Enter a valid email."}],password:[{type:"required",message:"Password is required."},{type:"minlength",message:"Password must be at least 8 characters ."}]},this.Form=e.group({username:["",s.n.compose([s.n.required,s.n.pattern(this.emailPattern)])],password:["",s.n.compose([s.n.maxLength(30),s.n.minLength(8),s.n.required])]})}return t(o,[{key:"ngOnInit",value:function(){}},{key:"goToSignup",value:function(){this.navCtrl.navigateForward("/signup")}},{key:"goToResetPassword",value:function(){this.navCtrl.navigateForward("/reset-password")}},{key:"onSubmitLogin",value:function(){var n=this;if(this.Form.valid){var o=this.Form.value;console.log(o),console.log("login loading"),this.loading.present(),this.api.login(o.username,o.password).then((function(o){console.log(o),n.loading.dismiss();var t=JSON.stringify(o.user);localStorage.setItem("userData",t),n.navCtrl.navigateRoot(["tabs/home"])}),(function(o){console.log(o),n.toast.present(o),n.loading.dismiss()}))}else this.toast.present("Please check your information","bottom")}},{key:"facebookLogin",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.fb.login(["public_profile","email"]);case 3:o=n.sent,this.loginWithFacebook(o.authResponse.accessToken),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log("Error logging in",n.t0),this.toast.present(n.t0.message);case 10:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"loginWithFacebook",value:function(n){var o=this;console.log(this.Form.value),console.log("login loading"),this.loading.present(),this.api.loginWithFacebooke(n).then((function(n){console.log(n),o.loading.dismiss();var t=JSON.stringify(n.user);localStorage.setItem("userData",t),o.navCtrl.navigateRoot(["tabs/home"])}),(function(n){console.log(n),o.toast.present(n),o.loading.dismiss()}))}},{key:"loginWithGoogle",value:function(n){var o=this;console.log(this.Form.value),console.log("login loading"),this.loading.present(),this.api.loginWithGoogle(n).then((function(n){console.log(n),o.loading.dismiss();var t=JSON.stringify(n.user);localStorage.setItem("userData",t),o.navCtrl.navigateRoot(["tabs/home"])}),(function(n){console.log(n),o.toast.present(n),o.loading.dismiss()}))}},{key:"googleLogin",value:function(){var n=this;console.log("in"),this.googlePlus.login({}).then((function(o){console.log(o);var t=o;console.log(t.accessToken),n.loginWithGoogle(t.accessToken)})).catch((function(o){n.toast.present("There is an error please try again"),console.log(o)}))}}]),o}(),k.\u0275fac=function(n){return new(n||k)(g.Hb(a.H),g.Hb(s.a),g.Hb(u.a),g.Hb(d.a),g.Hb(p.a),g.Hb(b.a),g.Hb(f.a))},k.\u0275cmp=g.Bb({type:k,selectors:[["app-login"]],decls:27,vars:3,consts:[[1,"ion-text-center"],["src","assets/imgs/login/logo.png","alt","",1,"logo"],["novalidate","",3,"formGroup","submit"],[1,"ion-text-center","inputs_container"],["placeholder","Email","formControlName","username"],[1,"validation-errors"],[4,"ngFor","ngForOf"],["placeholder","Password","type","password","formControlName","password"],[1,"button_container"],["expand","full","shape","round","type","submit",1,"singup"],[1,"forget_password",3,"click"],[1,"social_buttons_container"],["expand","full","shape","round",1,"face_button",3,"click"],["expand","full","shape","round",1,"google_button",3,"click"],[1,"footer"],[1,"forget_password"],[3,"click"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(n,o){1&n&&(g.Mb(0,"ion-content",0),g.Mb(1,"div"),g.Ib(2,"img",1),g.Lb(),g.Mb(3,"form",2),g.Ub("submit",(function(){return o.onSubmitLogin()})),g.Mb(4,"div",3),g.Ib(5,"ion-input",4),g.Lb(),g.Mb(6,"div",5),g.gc(7,m,2,1,"ng-container",6),g.Lb(),g.Mb(8,"div",3),g.Ib(9,"ion-input",7),g.Lb(),g.Mb(10,"div",5),g.gc(11,w,2,1,"ng-container",6),g.Lb(),g.Mb(12,"div",8),g.Mb(13,"ion-button",9),g.hc(14,"SIGN IN"),g.Lb(),g.Lb(),g.Lb(),g.Mb(15,"p",10),g.Ub("click",(function(){return o.goToResetPassword()})),g.hc(16," Forgot your password? "),g.Lb(),g.Mb(17,"div",11),g.Mb(18,"ion-button",12),g.Ub("click",(function(){return o.facebookLogin()})),g.hc(19,"Connect with Facebook "),g.Lb(),g.Mb(20,"ion-button",13),g.Ub("click",(function(){return o.googleLogin()})),g.hc(21,"Connect with Google "),g.Lb(),g.Lb(),g.Mb(22,"div",14),g.Mb(23,"span",15),g.hc(24,"Don\u2019t have an account? "),g.Lb(),g.Mb(25,"span",16),g.Ub("click",(function(){return o.goToSignup()})),g.hc(26,"SignUp"),g.Lb(),g.Lb(),g.Lb()),2&n&&(g.xb(3),g.Zb("formGroup",o.Form),g.xb(4),g.Zb("ngForOf",o.validation_messages.username),g.xb(4),g.Zb("ngForOf",o.validation_messages.password))},directives:[a.h,s.o,s.k,s.e,a.m,a.L,s.j,s.c,r.h,a.d,r.i],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--page-background)}div[_ngcontent-%COMP%]{margin-top:5vh}div[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:30%}.singup[_ngcontent-%COMP%]{--background:linear-gradient(235deg,#08d3ff,#178dd5 0,#ff62a5);margin-top:5vh;height:7vh}.inputs_container[_ngcontent-%COMP%]{padding-left:10vw;padding-right:10vw;margin-top:3vh}ion-input[_ngcontent-%COMP%]{background:#fff;height:7vh;border-radius:25px;color:#9b9b9b;--placeholder-color:#9b9b9b;--placeholder-opacity:1}.button_container[_ngcontent-%COMP%]{padding-left:10vw;padding-right:10vw}.social_buttons_container[_ngcontent-%COMP%]{padding-left:15vw;padding-right:15vw}.face_button[_ngcontent-%COMP%]{--background:#2672cb}.google_button[_ngcontent-%COMP%]{--background:#fc3850;margin-top:2vh}.forget_password[_ngcontent-%COMP%]{color:#9b9b9b}.footer[_ngcontent-%COMP%]{margin-top:4vh}.validation-errors[_ngcontent-%COMP%]{padding-left:20px}.error-message[_ngcontent-%COMP%]{color:red}"]}),k)}],M=((L=function o(){n(this,o)}).\u0275mod=g.Fb({type:L}),L.\u0275inj=g.Eb({factory:function(n){return new(n||L)},imports:[[c.i.forChild(C)],c.i]}),L),_=((y=function o(){n(this,o)}).\u0275mod=g.Fb({type:y}),y.\u0275inj=g.Eb({factory:function(n){return new(n||y)},imports:[[r.b,s.g,a.D,s.m,M]]}),y)},oWMX:function(o,e,i){"use strict";i.d(e,"a",(function(){return c}));var r=i("mrSG"),s=i("fXoL"),a=i("TEn/"),c=function(){var o=function(){function o(t){n(this,o),this.loadingController=t,this.isLoading=!1,this.isNonRestrictedLoading=!1}return t(o,[{key:"present",value:function(){var n=this;this.isLoading=!0,this.loadingController.create({duration:3e3,spinner:"crescent",cssClass:"loading-content",showBackdrop:!1}).then((function(o){o.present().then((function(){console.log("presented"),n.isLoading||n.loadingController.dismiss()}))}))}},{key:"presentNonRestrictedLoading",value:function(){var n=this;this.isNonRestrictedLoading=!0,this.loadingController.create({spinner:"crescent",cssClass:"loading-content",showBackdrop:!1}).then((function(o){o.present().then((function(){console.log("presented"),n.isNonRestrictedLoading||n.loadingController.dismiss()}))}))}},{key:"dismissNonRestrictedLoading",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(this.isNonRestrictedLoading=!0)&&(this.loadingController.dismiss(),console.log("dismissed")),this.isNonRestrictedLoading=!1;case 1:case"end":return n.stop()}}),n,this)})))}},{key:"dismiss",value:function(){return Object(r.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(this.isLoading=!0)&&(this.loadingController.dismiss(),console.log("dismissed")),this.isLoading=!1;case 1:case"end":return n.stop()}}),n,this)})))}}]),o}();return o.\u0275fac=function(n){return new(n||o)(s.Qb(a.F))},o.\u0275prov=s.Db({token:o,factory:o.\u0275fac,providedIn:"root"}),o}()}}])}();