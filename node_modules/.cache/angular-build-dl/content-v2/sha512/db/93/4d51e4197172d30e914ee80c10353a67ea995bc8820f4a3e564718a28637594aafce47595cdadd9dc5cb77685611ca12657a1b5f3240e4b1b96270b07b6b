{"version":3,"sources":["webpack:///src/app/pages/login/login.page.html","webpack:///src/app/pages/login/login-routing.module.ts","webpack:///src/app/pages/login/login.module.ts","webpack:///src/app/pages/login/login.page.scss","webpack:///src/app/pages/login/login.page.ts","webpack:///src/app/services/loading-service.service.ts","webpack:///src/app/services/toast-service.service.ts"],"names":["routes","path","component","LoginPageRoutingModule","imports","forChild","exports","LoginPageModule","declarations","LoginPage","navCtrl","formBuilder","toast","api","loading","fb","googlePlus","emailPattern","validation_messages","type","message","Form","group","username","compose","required","pattern","password","maxLength","minLength","navigateForward","valid","present","formData","value","console","log","login","then","res","dismiss","user","JSON","stringify","localStorage","setItem","navigateRoot","error","facebookResponse","facebookAuthData","id","authResponse","userID","access_token","accessToken","loginWithFacebook","loginWithFacebooke","loginWithGoogle","selector","template","LoadingServiceService","loadingController","isLoading","isNonRestrictedLoading","options","duration","cssClass","create","createdLoader","providedIn","ToastServiceService","toastController","position","durationMs"],"mappings":"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","file":"pages-login-login-module-es5.js","sourcesContent":["export default \"<ion-content class=\\\"ion-text-center \\\">\\n  <div>\\n    <img class=\\\"logo\\\" src=\\\"assets/imgs/login/logo.png\\\" alt=\\\"\\\">\\n  </div>\\n  <form [formGroup]=\\\"Form\\\" (submit)=\\\"onSubmitLogin()\\\" novalidate>\\n\\n    <div class=\\\"ion-text-center inputs_container\\\">\\n\\n      <ion-input placeholder=\\\"Email\\\" formControlName=\\\"username\\\"></ion-input>\\n    </div>\\n    <div class=\\\"validation-errors\\\">\\n      <ng-container *ngFor=\\\"let validation of validation_messages.username\\\">\\n        <div class=\\\"error-message\\\"\\n          *ngIf=\\\"Form.get('username').hasError(validation.type) && (Form.get('username').dirty && Form.get('username').touched)\\\">\\n          {{ validation.message }}\\n        </div>\\n      </ng-container>\\n    </div>\\n    <div class=\\\"ion-text-center inputs_container\\\">\\n      <ion-input placeholder=\\\"Password\\\" type=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\n\\n    </div>\\n    <div class=\\\"validation-errors\\\">\\n      <ng-container *ngFor=\\\"let validation of validation_messages.password\\\">\\n        <div class=\\\"error-message\\\"\\n          *ngIf=\\\"Form.get('password').hasError(validation.type) && (Form.get('password').dirty && Form.get('password').touched)\\\">\\n          {{ validation.message }}\\n        </div>\\n      </ng-container>\\n    </div>\\n    <div class=\\\"button_container\\\">\\n      <ion-button class=\\\"singup\\\" expand=\\\"full\\\" shape=\\\"round\\\" type=\\\"submit\\\">SIGN IN</ion-button>\\n\\n    </div>\\n\\n  </form>\\n  <p class=\\\"forget_password\\\" (click)=\\\"goToResetPassword()\\\">\\n    Forgot your password?\\n  </p>\\n  <div class=\\\"social_buttons_container\\\">\\n    <ion-button class=\\\"face_button\\\" expand=\\\"full\\\" shape=\\\"round\\\" (click)=\\\"facebookLogin()\\\">Connect with Facebook\\n    </ion-button>\\n    <ion-button class=\\\"google_button\\\" expand=\\\"full\\\" shape=\\\"round\\\" (click)=\\\"googleLogin()\\\">Connect with Google\\n    </ion-button>\\n\\n  </div>\\n  <div class=\\\"footer\\\">\\n    <span class=\\\"forget_password\\\">Don’t have an account? </span> <span (click)=\\\"goToSignup()\\\">SignUp</span>\\n\\n  </div>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n \n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    LoginPageRoutingModule,\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule { }\n","export default \"ion-content {\\n  --background: var(--page-background);\\n}\\n\\ndiv {\\n  margin-top: 5vh;\\n}\\n\\ndiv .logo {\\n  width: 30%;\\n}\\n\\n.singup {\\n  --background: linear-gradient(235deg, #08d3ff 0%, #178dd5 0%, #ff62a5 100%);\\n  margin-top: 5vh;\\n  height: 7vh;\\n}\\n\\n.inputs_container {\\n  padding-left: 10vw;\\n  padding-right: 10vw;\\n  margin-top: 3vh;\\n}\\n\\nion-input {\\n  background: white;\\n  height: 7vh;\\n  border-radius: 25px;\\n  color: #9b9b9b;\\n  --placeholder-color: #9b9b9b;\\n  --placeholder-opacity: 1;\\n}\\n\\n.button_container {\\n  padding-left: 10vw;\\n  padding-right: 10vw;\\n}\\n\\n.social_buttons_container {\\n  padding-left: 15vw;\\n  padding-right: 15vw;\\n}\\n\\n.face_button {\\n  --background: #2672cb;\\n}\\n\\n.google_button {\\n  --background: #fc3850;\\n  margin-top: 2vh;\\n}\\n\\n.forget_password {\\n  color: #9b9b9b;\\n}\\n\\n.footer {\\n  margin-top: 4vh;\\n}\\n\\n.validation-errors {\\n  padding-left: 20px;\\n}\\n\\n.error-message {\\n  color: red;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbG9naW4vbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksb0NBQUE7QUFDSjs7QUFFQTtFQUNJLGVBQUE7QUFDSjs7QUFDSTtFQUNJLFVBQUE7QUFDUjs7QUFHQTtFQUNJLDJFQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7QUFBSjs7QUFHQTtFQUNJLGtCQUFBO0VBQ0EsbUJBQUE7RUFDQSxlQUFBO0FBQUo7O0FBR0E7RUFDSSxpQkFBQTtFQUNBLFdBQUE7RUFDQSxtQkFBQTtFQUNBLGNBQUE7RUFDQSw0QkFBQTtFQUNBLHdCQUFBO0FBQUo7O0FBR0E7RUFDSSxrQkFBQTtFQUNBLG1CQUFBO0FBQUo7O0FBR0E7RUFDSSxrQkFBQTtFQUNBLG1CQUFBO0FBQUo7O0FBR0E7RUFDSSxxQkFBQTtBQUFKOztBQUdBO0VBQ0kscUJBQUE7RUFDQSxlQUFBO0FBQUo7O0FBR0E7RUFDSSxjQUFBO0FBQUo7O0FBR0E7RUFDSSxlQUFBO0FBQUo7O0FBR0E7RUFDSSxrQkFBQTtBQUFKOztBQUdBO0VBQ0ksVUFBQTtBQUFKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvbG9naW4vbG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1wYWdlLWJhY2tncm91bmQpO1xyXG59XHJcblxyXG5kaXYge1xyXG4gICAgbWFyZ2luLXRvcDogNXZoO1xyXG5cclxuICAgIC5sb2dvIHtcclxuICAgICAgICB3aWR0aDogMzAlO1xyXG4gICAgfVxyXG59XHJcblxyXG4uc2luZ3VwIHtcclxuICAgIC0tYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDIzNWRlZywgIzA4ZDNmZiAwJSwgIzE3OGRkNSAwJSwgI2ZmNjJhNSAxMDAlKTtcclxuICAgIG1hcmdpbi10b3A6IDV2aDtcclxuICAgIGhlaWdodDogN3ZoO1xyXG59XHJcblxyXG4uaW5wdXRzX2NvbnRhaW5lciB7XHJcbiAgICBwYWRkaW5nLWxlZnQ6IDEwdnc7XHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAxMHZ3O1xyXG4gICAgbWFyZ2luLXRvcDogM3ZoO1xyXG59XHJcblxyXG5pb24taW5wdXQge1xyXG4gICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICBoZWlnaHQ6IDd2aDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDI1cHg7XHJcbiAgICBjb2xvcjogIzliOWI5YjtcclxuICAgIC0tcGxhY2Vob2xkZXItY29sb3I6ICM5YjliOWI7XHJcbiAgICAtLXBsYWNlaG9sZGVyLW9wYWNpdHk6IDE7XHJcbn1cclxuXHJcbi5idXR0b25fY29udGFpbmVyIHtcclxuICAgIHBhZGRpbmctbGVmdDogMTB2dztcclxuICAgIHBhZGRpbmctcmlnaHQ6IDEwdnc7XHJcbn1cclxuXHJcbi5zb2NpYWxfYnV0dG9uc19jb250YWluZXIge1xyXG4gICAgcGFkZGluZy1sZWZ0OiAxNXZ3O1xyXG4gICAgcGFkZGluZy1yaWdodDogMTV2dztcclxufVxyXG5cclxuLmZhY2VfYnV0dG9uIHtcclxuICAgIC0tYmFja2dyb3VuZDogIzI2NzJjYjtcclxufVxyXG5cclxuLmdvb2dsZV9idXR0b24ge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiAjZmMzODUwO1xyXG4gICAgbWFyZ2luLXRvcDogMnZoO1xyXG59XHJcblxyXG4uZm9yZ2V0X3Bhc3N3b3JkIHtcclxuICAgIGNvbG9yOiAjOWI5YjliO1xyXG59XHJcblxyXG4uZm9vdGVyIHtcclxuICAgIG1hcmdpbi10b3A6IDR2aDtcclxufVxyXG5cclxuLnZhbGlkYXRpb24tZXJyb3JzIHtcclxuICAgIHBhZGRpbmctbGVmdDogMjBweDtcclxufVxyXG5cclxuLmVycm9yLW1lc3NhZ2Uge1xyXG4gICAgY29sb3I6IHJlZDtcclxufVxyXG4iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { NavController } from '@ionic/angular';\nimport { AuthServiceService } from 'src/app/services/auth-service.service';\nimport { LoadingServiceService } from 'src/app/services/loading-service.service';\nimport { ToastServiceService } from 'src/app/services/toast-service.service';\nimport { Facebook, FacebookLoginResponse } from '@ionic-native/facebook/ngx';\nimport { GooglePlus } from '@ionic-native/google-plus/ngx';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  public Form: FormGroup;\n  emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\n  validation_messages = {\n    'username': [\n      { type: 'required', message: 'Email is required.' },\n      { type: 'pattern', message: 'Enter a valid email.' }\n    ],\n\n    'password': [\n      { type: 'required', message: 'Password is required.' },\n      { type: 'minlength', message: 'Password must be at least 8 characters .' },\n    ],\n\n  };\n\n\n  constructor(private navCtrl: NavController, public formBuilder: FormBuilder, public toast: ToastServiceService,\n    public api: AuthServiceService, public loading: LoadingServiceService, private fb: Facebook,\n    private googlePlus: GooglePlus\n  ) {\n    this.Form = formBuilder.group({\n      username: [\n        '',\n        Validators.compose([Validators.required,\n        Validators.pattern(this.emailPattern)])\n      ],\n      password: [\n        '',\n        Validators.compose([\n          Validators.maxLength(30),\n          Validators.minLength(8),\n          Validators.required\n        ])\n      ]\n    });\n\n  }\n\n  ngOnInit() {\n  }\n  goToSignup() {\n    this.navCtrl.navigateForward('/signup')\n  }\n  goToResetPassword() {\n    this.navCtrl.navigateForward('/reset-password')\n  }\n  // goToTabs() {\n  //   this.navCtrl.navigateForward('/tabs')\n\n  // }\n  onSubmitLogin() {\n    if (!this.Form.valid) {\n      this.toast.present('Please check your information', 'bottom')\n    }\n    else {\n      const formData = this.Form.value\n      console.log(formData);\n      console.log('login loading');\n\n      this.loading.present()\n      this.api.login(formData.username, formData.password).then((res: any) => {\n        console.log(res);\n\n        this.loading.dismiss()\n        const user = JSON.stringify(res.user)\n        localStorage.setItem('userData', user)\n        this.navCtrl.navigateRoot(['tabs/home']);\n\n      }, error => {\n        console.log(error);\n        this.toast.present(error)\n        this.loading.dismiss()\n\n      })\n\n    }\n  }\n  async facebookLogin() {\n    try {\n      // Log in to Facebook and request user data\n      let facebookResponse = await this.fb.login(['public_profile', 'email']);\n      let facebookAuthData = {\n        id: facebookResponse.authResponse.userID,\n        access_token: facebookResponse.authResponse.accessToken,\n      };\n\n      // // Request the user from parse\n      // let toLinkUser = new Parse.User();\n      // let user = await toLinkUser._linkWith('facebook', { authData: facebookAuthData });\n\n      // // If user did not exist, updates its data\n      // if (!user.existed()) {\n      //   let userData = await this.fb.api('me?fields=id,name,email,first_name,picture.width(720).height(720).as(picture)', []);\n      //   user.set('username', userData.name);\n      //   user.set('name', userData.name);\n      //   user.set('email', userData.email);\n      //   await user.save();\n      // }\n      this.loginWithFacebook(facebookResponse.authResponse.accessToken)\n    } catch (err) {\n      console.log('Error logging in', err);\n\n      this.toast.present(err.message)\n\n    }\n  }\n  loginWithFacebook(access_token) {\n\n\n    const formData = this.Form.value\n    console.log(formData);\n    console.log('login loading');\n\n    this.loading.present()\n    this.api.loginWithFacebooke(access_token).then((res: any) => {\n      console.log(res);\n\n      this.loading.dismiss()\n      const user = JSON.stringify(res.user)\n      localStorage.setItem('userData', user)\n      this.navCtrl.navigateRoot(['tabs/home']);\n\n    }, error => {\n      console.log(error);\n      this.toast.present(error)\n      this.loading.dismiss()\n\n    })\n\n\n  }\n  loginWithGoogle(access_token) {\n\n\n    const formData = this.Form.value\n    console.log(formData);\n    console.log('login loading');\n\n    this.loading.present()\n    this.api.loginWithGoogle(access_token).then((res: any) => {\n      console.log(res);\n\n      this.loading.dismiss()\n      const user = JSON.stringify(res.user)\n      localStorage.setItem('userData', user)\n      this.navCtrl.navigateRoot(['tabs/home']);\n\n    }, error => {\n      console.log(error);\n      this.toast.present(error)\n      this.loading.dismiss()\n\n    })\n\n\n  }\n  googleLogin() {\n    console.log(\"in\");\n\n    this.googlePlus.login({}).then((res) => {\n      console.log(res);\n      const user = res\n      console.log(user.accessToken);\n      this.loginWithGoogle(user.accessToken)\n    }).catch((error) => {\n      this.toast.present(\"There is an error please try again\")\n      console.log(error);\n\n    })\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { LoadingController } from '@ionic/angular';\nimport { LoadingOptions } from '@ionic/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoadingServiceService {\n  constructor(public loadingController: LoadingController) { }\n  public isLoading = false;\n  public isNonRestrictedLoading = false;\n\n  // async present() {\n  //   this.isLoading = true;\n  //   await this.loadingController\n  //     .create({\n  //       cssClass: 'loading-content'\n  //     })\n  //     .then(a => {\n  //       a.present().then(() => {\n  //         if (!this.isLoading) {\n  //           a.dismiss().then(() => console.log('abort presenting'));\n  //         }\n  //       });\n  //     });\n  // }\n\n  // async dismiss() {\n  //   this.isLoading = false;\n  //   await this.loadingController.dismiss();\n  // }\n\n\n  present() {\n    this.isLoading = true;\n    let options: LoadingOptions = {\n      duration: 3000\n    };\n\n    options.cssClass = 'loading-content'\n\n\n    this.loadingController.create(options).then(createdLoader => {\n      createdLoader.present().then(() => {\n        console.log('presented');\n        if (!this.isLoading) {\n          this.loadingController.dismiss();\n        }\n      })\n    })\n  }\n\n  presentNonRestrictedLoading() {\n    this.isNonRestrictedLoading = true;\n    let options: LoadingOptions = {\n    };\n\n    options.cssClass = 'loading-content'\n\n\n    this.loadingController.create(options).then(createdLoader => {\n      createdLoader.present().then(() => {\n        console.log('presented');\n        if (!this.isNonRestrictedLoading) {\n          this.loadingController.dismiss();\n        }\n      })\n    })\n  }\n\n  async dismissNonRestrictedLoading() {\n    if (this.isNonRestrictedLoading = true) {\n      this.loadingController.dismiss();\n      console.log('dismissed');\n    }\n    this.isNonRestrictedLoading = false;\n  }\n  async dismiss() {\n    if (this.isLoading = true) {\n      this.loadingController.dismiss();\n      console.log('dismissed');\n    }\n    this.isLoading = false;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ToastController } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ToastServiceService {\n\n  constructor(public toastController: ToastController) { }\n  async present(message: string, position: 'bottom' | 'top' | 'middle' = 'bottom', durationMs = 2000) {\n    const toast = await this.toastController.create({\n      message,\n      position,\n      duration: durationMs,\n      cssClass: 'toast-message'\n    });\n    toast.present();\n  }\n}"]}