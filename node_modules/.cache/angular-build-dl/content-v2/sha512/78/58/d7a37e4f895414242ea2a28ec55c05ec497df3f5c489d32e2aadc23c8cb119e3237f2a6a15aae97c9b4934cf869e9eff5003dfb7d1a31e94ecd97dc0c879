(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{MuM0:function(t,e,n){"use strict";n.r(e),n.d(e,"LearnItemDetailsPageModule",(function(){return u}));var o=n("ofXK"),i=n("3Pt+"),s=n("TEn/"),r=n("tyNb"),c=n("mrSG"),a=n("fXoL"),l=n("H+bZ"),m=n("oWMX"),b=n("/XPu"),g=n("CwAd");function h(t,e){if(1&t&&(a.Mb(0,"ion-card"),a.Mb(1,"ion-row"),a.Ib(2,"ion-col",14),a.Mb(3,"ion-col",15),a.Mb(4,"span",16),a.hc(5),a.Lb(),a.Lb(),a.Mb(6,"ion-col",15),a.Mb(7,"span",17),a.hc(8),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&t){const t=e.$implicit;a.xb(5),a.jc(" ",null==t?null:t.comment," "),a.xb(3),a.jc(" : ",null==t.user?null:t.user.name," ")}}const d=[{path:"",component:(()=>{class t{constructor(t,e,n,o,i,s,r,c){this.navCtrl=t,this.alertController=e,this.router=n,this.route=o,this.api=i,this.loading=s,this.socialSharing=r,this.toast=c,this.comment="",this.comments=[],this.route.queryParams.subscribe(t=>{this.router.getCurrentNavigation().extras.state&&(this.item=this.router.getCurrentNavigation().extras.state.item,this.comments=this.item.comments,console.log(this.item))})}ngOnInit(){this.getBolgData()}back(){this.navCtrl.back()}doComment(){""==this.comment?this.toast.present("Please enter comment"):(this.loading.present(),console.log(this.item.id),console.log(this.comment),this.api.comment(this.item.id,this.comment).then(t=>{console.log(t),this.loading.dismiss(),this.getBolgData(),this.toast.present("Comment send successfully")},t=>{this.loading.dismiss(),console.log(t),this.toast.present("There is an error please try again")}))}like(){this.loading.present(),this.api.like(this.item.id).then(t=>{console.log(t),this.loading.dismiss(),this.toast.present(t[0]?"Liked":"DisLike")},t=>{this.loading.dismiss(),console.log(t),this.toast.present("There is an error please try again")})}share(){this.socialSharing.share("http://bugsnroses.com/blog/"+this.item.id)}deleteComment(t,e){return Object(c.a)(this,void 0,void 0,(function*(){const n=yield this.alertController.create({header:"Delete item",message:"Do you want to delete this comment",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:t=>{console.log("Confirm Cancel: blah")}},{text:"Yes",handler:()=>{console.log("in yes"),this.removeComment(t,e)}}]});yield n.present()}))}removeComment(t,e){console.log(t),this.api.deleteComment(t.id).then(t=>{console.log(t),this.loading.dismissNonRestrictedLoading(),this.comments.splice(e,1),this.getBolgData()},t=>{this.loading.dismissNonRestrictedLoading(),""==t.error||t.comment_id?this.toast.present("There is an error please try again"):t.message?(this.toast.present("Comment deleted"),this.comments.splice(e,1),this.getBolgData()):this.toast.present(t.error)})}getBolgData(){this.api.getBolg(this.item.id).then(t=>{console.log(t),t.img="https://bugsnroses.com/"+t.img.replace("public","storage"),this.item=t,this.comments=this.item.comments},t=>{this.toast.present(""==t.error?"There is an error please try again":t.error)})}}return t.\u0275fac=function(e){return new(e||t)(a.Hb(s.H),a.Hb(s.a),a.Hb(r.g),a.Hb(r.a),a.Hb(l.a),a.Hb(m.a),a.Hb(b.a),a.Hb(g.a))},t.\u0275cmp=a.Bb({type:t,selectors:[["app-learn-item-details"]],decls:32,vars:6,consts:[[1,"title-row"],["size","4",1,"ion-text-start","back-container"],["src","assets/imgs/signup/back.png","alt","",3,"click"],["size","8",1,"ion-text-start","title"],["alt","",3,"src"],[3,"innerHTML"],["size","4"],["expand","full","shape","round",1,"like",3,"click"],["expand","full","shape","round",1,"share",3,"click"],[1,"comment_text"],["rows","6","cols","20","placeholder","Enter any comments here...",3,"ngModel","ngModelChange"],[1,"ion-text-end"],["size","larg","shape","round",1,"post",3,"click"],[4,"ngFor","ngForOf"],["size","2",1,"ion-text-end"],["size","5",1,"ion-text-end"],[1,"comment"],[1,"username"]],template:function(t,e){1&t&&(a.Mb(0,"ion-content"),a.Mb(1,"ion-grid"),a.Mb(2,"ion-row",0),a.Mb(3,"ion-col",1),a.Mb(4,"img",2),a.Ub("click",(function(){return e.back()})),a.Lb(),a.Lb(),a.Mb(5,"ion-col",3),a.Mb(6,"span"),a.hc(7," Learn "),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Ib(8,"img",4),a.Mb(9,"ion-row"),a.Mb(10,"h2"),a.hc(11),a.Lb(),a.Lb(),a.Ib(12,"p",5),a.Ib(13,"p",5),a.Mb(14,"ion-row"),a.Mb(15,"ion-col",6),a.Mb(16,"ion-button",7),a.Ub("click",(function(){return e.like()})),a.hc(17," Like "),a.Lb(),a.Lb(),a.Ib(18,"ion-col",6),a.Mb(19,"ion-col",6),a.Mb(20,"ion-button",8),a.Ub("click",(function(){return e.share()})),a.hc(21," Share "),a.Lb(),a.Lb(),a.Lb(),a.Mb(22,"div",9),a.Mb(23,"ion-textarea",10),a.Ub("ngModelChange",(function(t){return e.comment=t})),a.Lb(),a.Lb(),a.Mb(24,"ion-row",11),a.Mb(25,"ion-col",11),a.Mb(26,"ion-button",12),a.Ub("click",(function(){return e.doComment()})),a.hc(27," post "),a.Lb(),a.Lb(),a.Lb(),a.Mb(28,"ion-row"),a.Mb(29,"h2"),a.hc(30,"Comments"),a.Lb(),a.Lb(),a.gc(31,h,9,2,"ion-card",13),a.Lb()),2&t&&(a.xb(8),a.Zb("src",null==e.item?null:e.item.img,a.dc),a.xb(3),a.ic(null==e.item?null:e.item.name),a.xb(1),a.Zb("innerHTML",null==e.item?null:e.item.text,a.cc),a.xb(1),a.Zb("innerHTML",null==e.item?null:e.item.text2,a.cc),a.xb(10),a.Zb("ngModel",e.comment),a.xb(8),a.Zb("ngForOf",e.comments))},directives:[s.h,s.i,s.s,s.g,s.d,s.C,s.L,i.j,i.l,o.h,s.e],styles:["ion-content[_ngcontent-%COMP%]{--background:#f5f6f8}.back-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;margin-left:1vw}.title-row[_ngcontent-%COMP%]{margin-top:2vh}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.6em;margin-left:5vw}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#178dd5;font-weight:700}h2[_ngcontent-%COMP%]{margin-left:2vw}p[_ngcontent-%COMP%]{color:#acb1c0;padding-left:2vw;padding-right:5vw}.like[_ngcontent-%COMP%]{--background:#ff6979}.comment[_ngcontent-%COMP%], .like[_ngcontent-%COMP%]{text-transform:capitalize}.comment[_ngcontent-%COMP%]{--border-color:#707070!important;color:#4a4a4a!important}.share[_ngcontent-%COMP%]{--background:#2672cb;text-transform:capitalize}.post[_ngcontent-%COMP%]{--background:#4a4a4a}ion-textarea[_ngcontent-%COMP%]{--background:#fff;border-radius:10px;color:#9b9b9b}.comment_text[_ngcontent-%COMP%]{margin-left:4vw;margin-right:4vw}.comment_text[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{color:#000}ion-card[_ngcontent-%COMP%]{border-radius:5px;position:relative;text-align:center;background-size:cover!important;background-repeat:no-repeat!important;height:calc(22vw - 40px)!important;width:auto;box-shadow:0 0 1px -2px rgba(0,0,0,.2),0 0 2px 0 rgba(0,0,0,.14),0 0 5px 0 rgba(0,0,0,.12)}ion-card[_ngcontent-%COMP%]   .card_bottom[_ngcontent-%COMP%]{height:1vh;background:#ff6979}.delete_icon[_ngcontent-%COMP%]{color:#ff6979;font-size:1.5em}.comment[_ngcontent-%COMP%]{font-size:1.3em;margin-top:1vh}.username[_ngcontent-%COMP%]{color:#2672cb;font-size:1.5em;margin-top:1vh}"]}),t})()}];let p=(()=>{class t{}return t.\u0275mod=a.Fb({type:t}),t.\u0275inj=a.Eb({factory:function(e){return new(e||t)},imports:[[r.i.forChild(d)],r.i]}),t})(),u=(()=>{class t{}return t.\u0275mod=a.Fb({type:t}),t.\u0275inj=a.Eb({factory:function(e){return new(e||t)},imports:[[o.b,i.g,s.D,p]]}),t})()}}]);