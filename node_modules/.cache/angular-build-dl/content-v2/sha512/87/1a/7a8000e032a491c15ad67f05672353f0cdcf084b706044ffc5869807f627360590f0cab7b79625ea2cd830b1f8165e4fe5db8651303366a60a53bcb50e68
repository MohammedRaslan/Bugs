(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{CwAd:function(o,t,n){"use strict";n.d(t,"a",(function(){return r}));var e=n("mrSG"),i=n("fXoL"),s=n("TEn/");let r=(()=>{class o{constructor(o){this.toastController=o}present(o,t="bottom",n=2e3){return Object(e.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:o,position:t,duration:n,cssClass:"toast-message"})).present()}))}}return o.\u0275fac=function(t){return new(t||o)(i.Qb(s.M))},o.\u0275prov=i.Db({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},F4UR:function(o,t,n){"use strict";n.r(t),n.d(t,"LoginPageModule",(function(){return L}));var e=n("ofXK"),i=n("3Pt+"),s=n("TEn/"),r=n("tyNb"),a=n("mrSG"),c=n("fXoL"),l=n("CwAd"),g=n("UPSQ"),d=n("oWMX"),b=n("GGTb"),h=n("up+p");function u(o,t){if(1&o&&(c.Mb(0,"div",18),c.hc(1),c.Lb()),2&o){const o=c.Wb().$implicit;c.xb(1),c.jc(" ",o.message," ")}}function p(o,t){if(1&o&&(c.Kb(0),c.gc(1,u,2,1,"div",17),c.Jb()),2&o){const o=t.$implicit,n=c.Wb();c.xb(1),c.Zb("ngIf",n.Form.get("username").hasError(o.type)&&n.Form.get("username").dirty&&n.Form.get("username").touched)}}function m(o,t){if(1&o&&(c.Mb(0,"div",18),c.hc(1),c.Lb()),2&o){const o=c.Wb().$implicit;c.xb(1),c.jc(" ",o.message," ")}}function f(o,t){if(1&o&&(c.Kb(0),c.gc(1,m,2,1,"div",17),c.Jb()),2&o){const o=t.$implicit,n=c.Wb();c.xb(1),c.Zb("ngIf",n.Form.get("password").hasError(o.type)&&n.Form.get("password").dirty&&n.Form.get("password").touched)}}const v=[{path:"",component:(()=>{class o{constructor(o,t,n,e,s,r,a){this.navCtrl=o,this.formBuilder=t,this.toast=n,this.api=e,this.loading=s,this.fb=r,this.googlePlus=a,this.emailPattern=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,this.validation_messages={username:[{type:"required",message:"Email is required."},{type:"pattern",message:"Enter a valid email."}],password:[{type:"required",message:"Password is required."},{type:"minlength",message:"Password must be at least 8 characters ."}]},this.Form=t.group({username:["",i.n.compose([i.n.required,i.n.pattern(this.emailPattern)])],password:["",i.n.compose([i.n.maxLength(30),i.n.minLength(8),i.n.required])]})}ngOnInit(){}goToSignup(){this.navCtrl.navigateForward("/signup")}goToResetPassword(){this.navCtrl.navigateForward("/reset-password")}onSubmitLogin(){if(this.Form.valid){const o=this.Form.value;console.log(o),console.log("login loading"),this.loading.present(),this.api.login(o.username,o.password).then(o=>{console.log(o),this.loading.dismiss();const t=JSON.stringify(o.user);localStorage.setItem("userData",t),this.navCtrl.navigateRoot(["tabs/home"])},o=>{console.log(o),this.toast.present(o),this.loading.dismiss()})}else this.toast.present("Please check your information","bottom")}facebookLogin(){return Object(a.a)(this,void 0,void 0,(function*(){try{let o=yield this.fb.login(["public_profile","email"]);this.loginWithFacebook(o.authResponse.accessToken)}catch(o){console.log("Error logging in",o),this.toast.present(o.message)}}))}loginWithFacebook(o){console.log(this.Form.value),console.log("login loading"),this.loading.present(),this.api.loginWithFacebooke(o).then(o=>{console.log(o),this.loading.dismiss();const t=JSON.stringify(o.user);localStorage.setItem("userData",t),this.navCtrl.navigateRoot(["tabs/home"])},o=>{console.log(o),this.toast.present(o),this.loading.dismiss()})}loginWithGoogle(o){console.log(this.Form.value),console.log("login loading"),this.loading.present(),this.api.loginWithGoogle(o).then(o=>{console.log(o),this.loading.dismiss();const t=JSON.stringify(o.user);localStorage.setItem("userData",t),this.navCtrl.navigateRoot(["tabs/home"])},o=>{console.log(o),this.toast.present(o),this.loading.dismiss()})}googleLogin(){console.log("in"),this.googlePlus.login({}).then(o=>{console.log(o);const t=o;console.log(t.accessToken),this.loginWithGoogle(t.accessToken)}).catch(o=>{this.toast.present("There is an error please try again"),console.log(o)})}}return o.\u0275fac=function(t){return new(t||o)(c.Hb(s.H),c.Hb(i.a),c.Hb(l.a),c.Hb(g.a),c.Hb(d.a),c.Hb(b.a),c.Hb(h.a))},o.\u0275cmp=c.Bb({type:o,selectors:[["app-login"]],decls:27,vars:3,consts:[[1,"ion-text-center"],["src","assets/imgs/login/logo.png","alt","",1,"logo"],["novalidate","",3,"formGroup","submit"],[1,"ion-text-center","inputs_container"],["placeholder","Email","formControlName","username"],[1,"validation-errors"],[4,"ngFor","ngForOf"],["placeholder","Password","type","password","formControlName","password"],[1,"button_container"],["expand","full","shape","round","type","submit",1,"singup"],[1,"forget_password",3,"click"],[1,"social_buttons_container"],["expand","full","shape","round",1,"face_button",3,"click"],["expand","full","shape","round",1,"google_button",3,"click"],[1,"footer"],[1,"forget_password"],[3,"click"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(o,t){1&o&&(c.Mb(0,"ion-content",0),c.Mb(1,"div"),c.Ib(2,"img",1),c.Lb(),c.Mb(3,"form",2),c.Ub("submit",(function(){return t.onSubmitLogin()})),c.Mb(4,"div",3),c.Ib(5,"ion-input",4),c.Lb(),c.Mb(6,"div",5),c.gc(7,p,2,1,"ng-container",6),c.Lb(),c.Mb(8,"div",3),c.Ib(9,"ion-input",7),c.Lb(),c.Mb(10,"div",5),c.gc(11,f,2,1,"ng-container",6),c.Lb(),c.Mb(12,"div",8),c.Mb(13,"ion-button",9),c.hc(14,"SIGN IN"),c.Lb(),c.Lb(),c.Lb(),c.Mb(15,"p",10),c.Ub("click",(function(){return t.goToResetPassword()})),c.hc(16," Forgot your password? "),c.Lb(),c.Mb(17,"div",11),c.Mb(18,"ion-button",12),c.Ub("click",(function(){return t.facebookLogin()})),c.hc(19,"Connect with Facebook "),c.Lb(),c.Mb(20,"ion-button",13),c.Ub("click",(function(){return t.googleLogin()})),c.hc(21,"Connect with Google "),c.Lb(),c.Lb(),c.Mb(22,"div",14),c.Mb(23,"span",15),c.hc(24,"Don\u2019t have an account? "),c.Lb(),c.Mb(25,"span",16),c.Ub("click",(function(){return t.goToSignup()})),c.hc(26,"SignUp"),c.Lb(),c.Lb(),c.Lb()),2&o&&(c.xb(3),c.Zb("formGroup",t.Form),c.xb(4),c.Zb("ngForOf",t.validation_messages.username),c.xb(4),c.Zb("ngForOf",t.validation_messages.password))},directives:[s.h,i.o,i.k,i.e,s.m,s.L,i.j,i.c,e.h,s.d,e.i],styles:["ion-content[_ngcontent-%COMP%]{--background:var(--page-background)}div[_ngcontent-%COMP%]{margin-top:5vh}div[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:30%}.singup[_ngcontent-%COMP%]{--background:linear-gradient(235deg,#08d3ff,#178dd5 0,#ff62a5);margin-top:5vh;height:7vh}.inputs_container[_ngcontent-%COMP%]{padding-left:10vw;padding-right:10vw;margin-top:3vh}ion-input[_ngcontent-%COMP%]{background:#fff;height:7vh;border-radius:25px;color:#9b9b9b;--placeholder-color:#9b9b9b;--placeholder-opacity:1}.button_container[_ngcontent-%COMP%]{padding-left:10vw;padding-right:10vw}.social_buttons_container[_ngcontent-%COMP%]{padding-left:15vw;padding-right:15vw}.face_button[_ngcontent-%COMP%]{--background:#2672cb}.google_button[_ngcontent-%COMP%]{--background:#fc3850;margin-top:2vh}.forget_password[_ngcontent-%COMP%]{color:#9b9b9b}.footer[_ngcontent-%COMP%]{margin-top:4vh}.validation-errors[_ngcontent-%COMP%]{padding-left:20px}.error-message[_ngcontent-%COMP%]{color:red}"]}),o})()}];let w=(()=>{class o{}return o.\u0275mod=c.Fb({type:o}),o.\u0275inj=c.Eb({factory:function(t){return new(t||o)},imports:[[r.i.forChild(v)],r.i]}),o})(),L=(()=>{class o{}return o.\u0275mod=c.Fb({type:o}),o.\u0275inj=c.Eb({factory:function(t){return new(t||o)},imports:[[e.b,i.g,s.D,i.m,w]]}),o})()},oWMX:function(o,t,n){"use strict";n.d(t,"a",(function(){return r}));var e=n("mrSG"),i=n("fXoL"),s=n("TEn/");let r=(()=>{class o{constructor(o){this.loadingController=o,this.isLoading=!1,this.isNonRestrictedLoading=!1}present(){this.isLoading=!0,this.loadingController.create({duration:3e3,spinner:"crescent",cssClass:"loading-content",showBackdrop:!1}).then(o=>{o.present().then(()=>{console.log("presented"),this.isLoading||this.loadingController.dismiss()})})}presentNonRestrictedLoading(){this.isNonRestrictedLoading=!0,this.loadingController.create({spinner:"crescent",cssClass:"loading-content",showBackdrop:!1}).then(o=>{o.present().then(()=>{console.log("presented"),this.isNonRestrictedLoading||this.loadingController.dismiss()})})}dismissNonRestrictedLoading(){return Object(e.a)(this,void 0,void 0,(function*(){(this.isNonRestrictedLoading=!0)&&(this.loadingController.dismiss(),console.log("dismissed")),this.isNonRestrictedLoading=!1}))}dismiss(){return Object(e.a)(this,void 0,void 0,(function*(){(this.isLoading=!0)&&(this.loadingController.dismiss(),console.log("dismissed")),this.isLoading=!1}))}}return o.\u0275fac=function(t){return new(t||o)(i.Qb(s.F))},o.\u0275prov=i.Db({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()}}]);