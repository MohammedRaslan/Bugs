!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{MuM0:function(e,o,i){"use strict";i.r(o),i.d(o,"LearnItemDetailsPageModule",(function(){return k}));var r=i("ofXK"),a=i("3Pt+"),c=i("TEn/"),s=i("tyNb"),l=i("mrSG"),m=i("fXoL"),b=i("H+bZ"),g=i("oWMX"),u=i("/XPu"),h=i("CwAd");function d(t,n){if(1&t&&(m.Mb(0,"ion-card"),m.Mb(1,"ion-row"),m.Ib(2,"ion-col",14),m.Mb(3,"ion-col",15),m.Mb(4,"span",16),m.hc(5),m.Lb(),m.Lb(),m.Mb(6,"ion-col",15),m.Mb(7,"span",17),m.hc(8),m.Lb(),m.Lb(),m.Lb(),m.Lb()),2&t){var e=n.$implicit;m.xb(5),m.jc(" ",null==e?null:e.comment," "),m.xb(3),m.jc(" : ",null==e.user?null:e.user.name," ")}}var p,f,M,C=[{path:"",component:(p=function(){function e(n,o,i,r,a,c,s,l){var m=this;t(this,e),this.navCtrl=n,this.alertController=o,this.router=i,this.route=r,this.api=a,this.loading=c,this.socialSharing=s,this.toast=l,this.comment="",this.comments=[],this.route.queryParams.subscribe((function(t){m.router.getCurrentNavigation().extras.state&&(m.item=m.router.getCurrentNavigation().extras.state.item,m.comments=m.item.comments,console.log(m.item))}))}var o,i,r;return o=e,(i=[{key:"ngOnInit",value:function(){this.getBolgData()}},{key:"back",value:function(){this.navCtrl.back()}},{key:"doComment",value:function(){var t=this;""==this.comment?this.toast.present("Please enter comment"):(this.loading.present(),console.log(this.item.id),console.log(this.comment),this.api.comment(this.item.id,this.comment).then((function(n){console.log(n),t.loading.dismiss(),t.getBolgData(),t.toast.present("Comment send successfully")}),(function(n){t.loading.dismiss(),console.log(n),t.toast.present("There is an error please try again")})))}},{key:"like",value:function(){var t=this;this.loading.present(),this.api.like(this.item.id).then((function(n){console.log(n),t.loading.dismiss(),t.toast.present(n[0]?"Liked":"DisLike")}),(function(n){t.loading.dismiss(),console.log(n),t.toast.present("There is an error please try again")}))}},{key:"share",value:function(){this.socialSharing.share("http://bugsnroses.com/blog/"+this.item.id)}},{key:"deleteComment",value:function(t,n){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var o,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:"Delete item",message:"Do you want to delete this comment",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(t){console.log("Confirm Cancel: blah")}},{text:"Yes",handler:function(){console.log("in yes"),i.removeComment(t,n)}}]});case 2:return o=e.sent,e.next=5,o.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"removeComment",value:function(t,n){var e=this;console.log(t),this.api.deleteComment(t.id).then((function(t){console.log(t),e.loading.dismissNonRestrictedLoading(),e.comments.splice(n,1),e.getBolgData()}),(function(t){e.loading.dismissNonRestrictedLoading(),""==t.error||t.comment_id?e.toast.present("There is an error please try again"):t.message?(e.toast.present("Comment deleted"),e.comments.splice(n,1),e.getBolgData()):e.toast.present(t.error)}))}},{key:"getBolgData",value:function(){var t=this;this.api.getBolg(this.item.id).then((function(n){console.log(n),n.img="https://bugsnroses.com/"+n.img.replace("public","storage"),t.item=n,t.comments=t.item.comments}),(function(n){t.toast.present(""==n.error?"There is an error please try again":n.error)}))}}])&&n(o.prototype,i),r&&n(o,r),e}(),p.\u0275fac=function(t){return new(t||p)(m.Hb(c.H),m.Hb(c.a),m.Hb(s.g),m.Hb(s.a),m.Hb(b.a),m.Hb(g.a),m.Hb(u.a),m.Hb(h.a))},p.\u0275cmp=m.Bb({type:p,selectors:[["app-learn-item-details"]],decls:32,vars:6,consts:[[1,"title-row"],["size","4",1,"ion-text-start","back-container"],["src","assets/imgs/signup/back.png","alt","",3,"click"],["size","8",1,"ion-text-start","title"],["alt","",3,"src"],[3,"innerHTML"],["size","4"],["expand","full","shape","round",1,"like",3,"click"],["expand","full","shape","round",1,"share",3,"click"],[1,"comment_text"],["rows","6","cols","20","placeholder","Enter any comments here...",3,"ngModel","ngModelChange"],[1,"ion-text-end"],["size","larg","shape","round",1,"post",3,"click"],[4,"ngFor","ngForOf"],["size","2",1,"ion-text-end"],["size","5",1,"ion-text-end"],[1,"comment"],[1,"username"]],template:function(t,n){1&t&&(m.Mb(0,"ion-content"),m.Mb(1,"ion-grid"),m.Mb(2,"ion-row",0),m.Mb(3,"ion-col",1),m.Mb(4,"img",2),m.Ub("click",(function(){return n.back()})),m.Lb(),m.Lb(),m.Mb(5,"ion-col",3),m.Mb(6,"span"),m.hc(7," Learn "),m.Lb(),m.Lb(),m.Lb(),m.Lb(),m.Ib(8,"img",4),m.Mb(9,"ion-row"),m.Mb(10,"h2"),m.hc(11),m.Lb(),m.Lb(),m.Ib(12,"p",5),m.Ib(13,"p",5),m.Mb(14,"ion-row"),m.Mb(15,"ion-col",6),m.Mb(16,"ion-button",7),m.Ub("click",(function(){return n.like()})),m.hc(17," Like "),m.Lb(),m.Lb(),m.Ib(18,"ion-col",6),m.Mb(19,"ion-col",6),m.Mb(20,"ion-button",8),m.Ub("click",(function(){return n.share()})),m.hc(21," Share "),m.Lb(),m.Lb(),m.Lb(),m.Mb(22,"div",9),m.Mb(23,"ion-textarea",10),m.Ub("ngModelChange",(function(t){return n.comment=t})),m.Lb(),m.Lb(),m.Mb(24,"ion-row",11),m.Mb(25,"ion-col",11),m.Mb(26,"ion-button",12),m.Ub("click",(function(){return n.doComment()})),m.hc(27," post "),m.Lb(),m.Lb(),m.Lb(),m.Mb(28,"ion-row"),m.Mb(29,"h2"),m.hc(30,"Comments"),m.Lb(),m.Lb(),m.gc(31,d,9,2,"ion-card",13),m.Lb()),2&t&&(m.xb(8),m.Zb("src",null==n.item?null:n.item.img,m.dc),m.xb(3),m.ic(null==n.item?null:n.item.name),m.xb(1),m.Zb("innerHTML",null==n.item?null:n.item.text,m.cc),m.xb(1),m.Zb("innerHTML",null==n.item?null:n.item.text2,m.cc),m.xb(10),m.Zb("ngModel",n.comment),m.xb(8),m.Zb("ngForOf",n.comments))},directives:[c.h,c.i,c.s,c.g,c.d,c.C,c.L,a.j,a.l,r.h,c.e],styles:["ion-content[_ngcontent-%COMP%]{--background:#f5f6f8}.back-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;margin-left:1vw}.title-row[_ngcontent-%COMP%]{margin-top:2vh}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.6em;margin-left:5vw}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#178dd5;font-weight:700}h2[_ngcontent-%COMP%]{margin-left:2vw}p[_ngcontent-%COMP%]{color:#acb1c0;padding-left:2vw;padding-right:5vw}.like[_ngcontent-%COMP%]{--background:#ff6979}.comment[_ngcontent-%COMP%], .like[_ngcontent-%COMP%]{text-transform:capitalize}.comment[_ngcontent-%COMP%]{--border-color:#707070!important;color:#4a4a4a!important}.share[_ngcontent-%COMP%]{--background:#2672cb;text-transform:capitalize}.post[_ngcontent-%COMP%]{--background:#4a4a4a}ion-textarea[_ngcontent-%COMP%]{--background:#fff;border-radius:10px;color:#9b9b9b}.comment_text[_ngcontent-%COMP%]{margin-left:4vw;margin-right:4vw}.comment_text[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%]{color:#000}ion-card[_ngcontent-%COMP%]{border-radius:5px;position:relative;text-align:center;background-size:cover!important;background-repeat:no-repeat!important;height:calc(22vw - 40px)!important;width:auto;box-shadow:0 0 1px -2px rgba(0,0,0,.2),0 0 2px 0 rgba(0,0,0,.14),0 0 5px 0 rgba(0,0,0,.12)}ion-card[_ngcontent-%COMP%]   .card_bottom[_ngcontent-%COMP%]{height:1vh;background:#ff6979}.delete_icon[_ngcontent-%COMP%]{color:#ff6979;font-size:1.5em}.comment[_ngcontent-%COMP%]{font-size:1.3em;margin-top:1vh}.username[_ngcontent-%COMP%]{color:#2672cb;font-size:1.5em;margin-top:1vh}"]}),p)}],v=((M=function n(){t(this,n)}).\u0275mod=m.Fb({type:M}),M.\u0275inj=m.Eb({factory:function(t){return new(t||M)},imports:[[s.i.forChild(C)],s.i]}),M),k=((f=function n(){t(this,n)}).\u0275mod=m.Fb({type:f}),f.\u0275inj=m.Eb({factory:function(t){return new(t||f)},imports:[[r.b,a.g,c.D,v]]}),f)}}])}();